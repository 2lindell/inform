<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>Booklet Title</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Content-Language" content="en-gb">
		<link href="inweb.css" rel="stylesheet" rev="stylesheet" type="text/css">
	</head>
	<body>

<!--Weave of 'P/ui' generated by 7-->
<ul class="crumbs"><li><a href="../webs.html">&#9733;</a></li><li><a href="index.html">inter 1</a></li><li><a href="index.html#P">Preliminaries</a></li><li><b>Using Inter</b></li></ul><p class="purpose">A brief user guide.</p>

<p class="inwebparagraph"><a id="SP1"></a><b>&#167;1.  </b>The command-line executable Inter packages up the back end of the Inform 7
compiler into a stand-alone tool, and enables that back end to be used more
flexibly. For example, it can read or write either textual or binary inter
code, and can convert between them. It can also perform any of the numerous
code-generation stages on the code it reads, in any sequence. In short, it
aims to be a Swiss Army knife for inter code.
</p>

<p class="inwebparagraph">Because of that, it's possible to test code-generation stages individually:
we can read in some inter code from a text file, perform a single stage on
it, and write it out as text again. This gives us a very helpful window into
what Inform is doing; it also provides a test-bed for future optimisation,
or for future applications of inter code.
</p>

<p class="inwebparagraph"><a id="SP2"></a><b>&#167;2.  </b>If you have compiled the standard distribution of the command-line tools
for Inform then the Inter executable will be at <code class="display"><span class="extract">inter/Tangled/inter</span></code>.
The usage is:
</p>

<p class="inwebparagraph"></p>


<pre class="display">
        <span class="plain">$ inter/Tangled/inter FILE1 FILE2 ... [OPTIONS]</span>
</pre>

<p class="inwebparagraph">Though multiple files can be supplied, it's usual to supply just one.
</p>

<p class="inwebparagraph">Such files can be in either textual or binary form, and Inter automatically
detects which by looking at their contents. (Conventionally, such files
have the filename extension <code class="display"><span class="extract">.intert</span></code> or <code class="display"><span class="extract">.interb</span></code> respectively, but that's
not how Inter decides.)
</p>

<p class="inwebparagraph"><a id="SP3"></a><b>&#167;3.  </b>Inter has three basic modes. In the first, when no options are supplied,
Inter simply verifies its input for correctness: that is, to see if the inter
code supplied conforms to the inter specification. It returns the exit code 0
if all is well, and issues error messages and returns 1 if not.
</p>

<p class="inwebparagraph"><a id="SP4"></a><b>&#167;4.  </b>In the second mode, Inter converts from textual to binary form or vice
versa. The option <code class="display"><span class="extract">-binary X</span></code> writes a binary form of the inter to file <code class="display"><span class="extract">X</span></code>,
and <code class="display"><span class="extract">-textual X</span></code> writes a text form. So, for example,
</p>

<p class="inwebparagraph"></p>


<pre class="display">
        <span class="plain">$ inter/Tangled/inter my.intert -binary my.interb</span>
</pre>

<p class="inwebparagraph">converts <code class="display"><span class="extract">my.intert</span></code> (a textual inter file) to its binary equivalent
<code class="display"><span class="extract">my.interb</span></code>, and conversely:
</p>

<p class="inwebparagraph"></p>


<pre class="display">
        <span class="plain">$ inter/Tangled/inter my.interb -textual my.intert</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP5"></a><b>&#167;5.  </b>In the third and most flexible mode, Inter runs the supplied code through
a chain of processing stages. The chain, which must contain at least
one stage, is a textual list of comma-separated stage names. For example,
</p>

<p class="inwebparagraph"></p>


<pre class="display">
        <span class="plain">resolve-conditional-compilation,assimilate,make-identifiers-unique</span>
</pre>

<p class="inwebparagraph">is a valid three-stage chain. The command to do this is then:
</p>

<p class="inwebparagraph"></p>


<pre class="display">
        <span class="plain">$ inter/Tangled/inter my.intert -binary -inter 'STAGES'</span>
</pre>

<p class="inwebparagraph">where <code class="display"><span class="extract">STAGES</span></code> is the chain description.
</p>

<p class="inwebparagraph">In practice, this will only be useful if you can access the result, so it's
normal for the final stage to output something: perhaps Inform 6 code, perhaps
textual inter. For example:
</p>

<p class="inwebparagraph"></p>


<pre class="display">
        <span class="plain">$ inter/Tangled/inter in.intert -inter 'parse-linked-matter, generate-inter:out.intert'</span>
</pre>

<p class="inwebparagraph">Two more options may be helpful to supplement this: <code class="display"><span class="extract">-domain D</span></code> sets the
directory <code class="display"><span class="extract">D</span></code> to be the default location for reading and writing inter files;
and <code class="display"><span class="extract">-template T</span></code> tells Inter that it can find the I6T template files at
the file system location <code class="display"><span class="extract">T</span></code>. (Some code-generation stages import these.)
</p>

<p class="inwebparagraph"><a id="SP6"></a><b>&#167;6.  </b>Inform itself currently has an undocumented feature to enable similar
experimentation. The "use" sentence:
</p>

<blockquote>
    <p>Use inter chain "STAGES".</p>

</blockquote>

<p class="inwebparagraph">works in exactly the same way, so for example:
</p>

<blockquote>
    <p>Use inter chain "link:Output.i6t,parse-linked-matter,resolve-conditional-compilation,assimilate,make-identifiers-unique,reconcile-verbs,generate-inter:haha.txt,generate-i6:*".</p>

</blockquote>

<p class="inwebparagraph">The asterisk there substitutes for "whatever filename Inform wants to give the
final I6 file".
</p>

<hr class="tocbar">
<ul class="toc"><li><i>(This section begins Preliminaries.)</i></li><li><i>(This section ends Preliminaries.)</i></li></ul><hr class="tocbar">
<!--End of weave-->
	</body>
</html>

