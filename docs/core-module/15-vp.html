<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>Valued Properties</title>
		<meta name="viewport" content="width=device-width initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Content-Language" content="en-gb">
		<link href="../inweb.css" rel="stylesheet" rev="stylesheet" type="text/css">
		
	</head>
	<body>
		<nav role="navigation">
		<h1><a href="../index.html">
<img src="../docs-src/Figures/Inform.png" height=72">
</a></h1>
<ul><li><a href="../compiler.html">compiler tools</a></li>
<li><a href="../other.html">other tools</a></li>
<li><a href="../extensions.html">extensions and kits</a></li>
<li><a href="../units.html">unit test tools</a></li>
</ul><h2>Compiler Webs</h2><ul>
<li><a href="../inbuild/index.html">inbuild</a></li>
<li><a href="../inform7/index.html">inform7</a></li>
<li><a href="../inter/index.html">inter</a></li>
</ul><h2>Inbuild Modules</h2><ul>
<li><a href="../supervisor-module/index.html">supervisor</a></li>
</ul><h2>Inform7 Modules</h2><ul>
<li><a href="index.html"><span class="selectedlink">core</span></a></li>
<li><a href="../inflections-module/index.html">inflections</a></li>
<li><a href="../linguistics-module/index.html">linguistics</a></li>
<li><a href="../kinds-module/index.html">kinds</a></li>
<li><a href="../if-module/index.html">if</a></li>
<li><a href="../multimedia-module/index.html">multimedia</a></li>
<li><a href="../problems-module/index.html">problems</a></li>
<li><a href="../index-module/index.html">index</a></li>
</ul><h2>Inter Modules</h2><ul>
<li><a href="../bytecode-module/index.html">bytecode</a></li>
<li><a href="../building-module/index.html">building</a></li>
<li><a href="../codegen-module/index.html">codegen</a></li>
</ul><h2>Shared Modules</h2><ul>
<li><a href="../arch-module/index.html">arch</a></li>
<li><a href="../syntax-module/index.html">syntax</a></li>
<li><a href="../words-module/index.html">words</a></li>
<li><a href="../html-module/index.html">html</a></li>
<li><a href="../../../inweb/docs/foundation-module/index.html">foundation</a></li>

</ul>
		</nav>
		<main role="main">
		
<!--Weave of 'Valued Properties' generated by 7-->
<ul class="crumbs"><li><a href="../index.html">Home</a></li><li><a href="../compiler.html">Inform7 Modules</a></li><li><a href="index.html">core</a></li><li><a href="index.html#15">Chapter 15: Properties</a></li><li><b>Valued Properties</b></li></ul><p class="purpose">Properties which consist of an attached value, always having a given kind.</p>

<ul class="toc"><li><a href="#SP1">&#167;1. Requesting new named properties</a></li><li><a href="#SP3">&#167;3. Requesting new nameless properties</a></li><li><a href="#SP4">&#167;4. Initialising details</a></li><li><a href="#SP5">&#167;5. Details</a></li><li><a href="#SP10">&#167;10. Assertion</a></li><li><a href="#SP11">&#167;11. Compilation</a></li></ul><hr class="tocbar">

<p class="inwebparagraph"><a id="SP1"></a><b>&#167;1. Requesting new named properties. </b>The following asserts that <code class="display"><span class="extract">(w1, w2)</span></code> is certainly a property; if it does not
exist, it will be created.
</p>

<pre class="display">
    <span class="reserved">property</span><span class="plain"> *</span><span class="functiontext">Properties::Valued::obtain<button class="popup" onclick="togglePopup('usagePopup1148')">...<span class="popuptext" id="usagePopup1148">Usage of <b>Properties::Valued::obtain</b>:<br>Of and From - <a href="7-oaf.html#SP8">&#167;8</a><br>Make Assertions - <a href="9-ma.html#SP3_3_13">&#167;3.3.13</a>, <a href="9-ma.html#SP3_3_26">&#167;3.3.26</a><br>Property Declarations - <a href="9-pd.html#SP6_1">&#167;6.1</a><br>Condition Properties - <a href="15-cp.html#SP3">&#167;3</a><br>Tables of Definitions - <a href="19-tod.html#SP6_4_1">&#167;6.4.1</a></span></button></span><span class="plain">(</span><span class="identifier">wording</span><span class="plain"> </span><span class="identifier">W</span><span class="plain">) {</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="15-pr.html#SP4">Properties::obtain</a></span><span class="plain">(</span><span class="identifier">W</span><span class="plain">, </span><span class="identifier">TRUE</span><span class="plain">);</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP2"></a><b>&#167;2.  </b>Now the same: except that we require the property to have a given kind of
value, so that the process can go awry. (But we are allowed to avoid this
possibility by widening the kind, when this can be done.)
</p>

<pre class="display">
    <span class="reserved">property</span><span class="plain"> *</span><span class="functiontext">Properties::Valued::obtain_within_kind<button class="popup" onclick="togglePopup('usagePopup1149')">...<span class="popuptext" id="usagePopup1149">Usage of <b>Properties::Valued::obtain_within_kind</b>:<br>Relations - <a href="6-rlt.html#SP9_3_8">&#167;9.3.8</a></span></button></span><span class="plain">(</span><span class="identifier">wording</span><span class="plain"> </span><span class="identifier">W</span><span class="plain">, </span><span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">K</span><span class="plain">) {</span>
        <span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain"> = </span><span class="identifier">NULL</span><span class="plain">;</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">K</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) </span><span class="identifier">K</span><span class="plain"> = </span><span class="identifier">K_object</span><span class="plain">;</span>
        <span class="identifier">K</span><span class="plain"> = </span><span class="identifier">Kinds::weaken</span><span class="plain">(</span><span class="identifier">K</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (&lt;</span><span class="reserved">property</span><span class="plain">-</span><span class="identifier">name</span><span class="plain">&gt;(</span><span class="identifier">W</span><span class="plain">)) {</span>
            <span class="identifier">prn</span><span class="plain"> = &lt;&lt;</span><span class="identifier">rp</span><span class="plain">&gt;&gt;;</span>
            <span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">existing_kind</span><span class="plain"> = </span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">property_value_kind</span><span class="plain">;</span>
            <span class="reserved">switch</span><span class="plain">(</span><span class="identifier">Kinds::Compare::compatible</span><span class="plain">(</span><span class="identifier">K</span><span class="plain">, </span><span class="identifier">existing_kind</span><span class="plain">)) {</span>
                <span class="reserved">case</span><span class="plain"> </span><span class="identifier">SOMETIMES_MATCH:</span>
                    <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">Kinds::Compare::compatible</span><span class="plain">(</span><span class="identifier">existing_kind</span><span class="plain">, </span><span class="identifier">K</span><span class="plain">) != </span><span class="identifier">ALWAYS_MATCH</span><span class="plain">)</span>
                        &lt;<span class="cwebmacro">Issue an incompatible property kind message</span> <span class="cwebmacronumber">2.1</span>&gt;<span class="plain">;</span>
                    <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">property_value_kind</span><span class="plain"> = </span><span class="identifier">K</span><span class="plain">; </span><span class="comment"> widen the kind of the property to make this fit</span>
                    <span class="reserved">break</span><span class="plain">;</span>
                <span class="reserved">case</span><span class="plain"> </span><span class="identifier">NEVER_MATCH:</span>
                    &lt;<span class="cwebmacro">Issue an incompatible property kind message</span> <span class="cwebmacronumber">2.1</span>&gt;<span class="plain">;</span>
            <span class="plain">}</span>
        <span class="plain">} </span><span class="reserved">else</span><span class="plain"> {</span>
            <span class="identifier">prn</span><span class="plain"> = </span><span class="functiontext"><a href="15-pr.html#SP4">Properties::obtain</a></span><span class="plain">(</span><span class="identifier">W</span><span class="plain">, </span><span class="identifier">TRUE</span><span class="plain">);</span>
            <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">property_value_kind</span><span class="plain"> = </span><span class="identifier">K</span><span class="plain">;</span>
        <span class="plain">}</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">prn</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP2_1"></a><b>&#167;2.1.  </b><code class="display">
&lt;<span class="cwebmacrodefn">Issue an incompatible property kind message</span> <span class="cwebmacronumber">2.1</span>&gt; =
</code></p>


<pre class="displaydefn">
        <span class="identifier">Problems::Issue::sentence_problem</span><span class="plain">(</span><span class="functiontext"><a href="1-wtc.html#SP5">Task::syntax_tree</a></span><span class="plain">(), </span><span class="identifier">_p_</span><span class="plain">(</span><span class="identifier">PM_BadKOVForRelationProperty</span><span class="plain">),</span>
            <span class="string">"that property already exists and contains a kind of value incompatible with "</span>
            <span class="string">"what we need here"</span><span class="plain">,</span>
            <span class="string">"so you will need to give it a different name."</span><span class="plain">);</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">NULL</span><span class="plain">;</span>
</pre>

<p class="inwebparagraph"></p>

<p class="endnote">This code is used in <a href="#SP2">&#167;2</a> (twice).</p>

<p class="inwebparagraph"><a id="SP3"></a><b>&#167;3. Requesting new nameless properties. </b>Sometimes we will want a property which exists at run-time but which
has no name or visible existence at the Inform source text level. For
instance, the run-time code needs a property called <code class="display"><span class="extract">vector</span></code> in which to
store partial results when finding routes through maps, but <code class="display"><span class="extract">vector</span></code> is
nameless in the source text, unrecorded in the Index, and generally invisible
to the end user.
</p>

<p class="inwebparagraph">Core Inform creates no such properties, but many of the plugins do.
</p>

<pre class="display">
    <span class="reserved">property</span><span class="plain"> *</span><span class="functiontext">Properties::Valued::new_nameless<button class="popup" onclick="togglePopup('usagePopup1150')">...<span class="popuptext" id="usagePopup1150">Usage of <b>Properties::Valued::new_nameless</b>:<br>Instance Counting - <a href="16-ic.html#SP12_1">&#167;12.1</a>, <a href="16-ic.html#SP12_2">&#167;12.2</a></span></button></span><span class="plain">(</span><span class="identifier">text_stream</span><span class="plain"> *</span><span class="identifier">I6_form</span><span class="plain">, </span><span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">K</span><span class="plain">) {</span>
        <span class="identifier">wording</span><span class="plain"> </span><span class="identifier">W</span><span class="plain"> = </span><span class="identifier">Feeds::feed_stream</span><span class="plain">(</span><span class="identifier">I6_form</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">K</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"new nameless property without kind"</span><span class="plain">);</span>
        <span class="identifier">package_request</span><span class="plain"> *</span><span class="identifier">R</span><span class="plain"> = </span><span class="functiontext"><a href="27-hr.html#SP4">Hierarchy::synoptic_package</a></span><span class="plain">(</span><span class="constant">PROPERTIES_HAP</span><span class="plain">);</span>
        <span class="functiontext"><a href="27-hr.html#SP4">Hierarchy::markup</a></span><span class="plain">(</span><span class="identifier">R</span><span class="plain">, </span><span class="constant">PROPERTY_NAME_HMD</span><span class="plain">, </span><span class="identifier">I6_form</span><span class="plain">);</span>
        <span class="identifier">inter_name</span><span class="plain"> *</span><span class="identifier">using_iname</span><span class="plain"> = </span><span class="functiontext"><a href="27-hr.html#SP4">Hierarchy::make_iname_with_memo</a></span><span class="plain">(</span><span class="constant">PROPERTY_HL</span><span class="plain">, </span><span class="identifier">R</span><span class="plain">, </span><span class="identifier">W</span><span class="plain">);</span>
        <span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain"> = </span><span class="functiontext"><a href="15-pr.html#SP5">Properties::create</a></span><span class="plain">(</span><span class="identifier">EMPTY_WORDING</span><span class="plain">, </span><span class="identifier">R</span><span class="plain">, </span><span class="identifier">using_iname</span><span class="plain">);</span>
        <span class="functiontext"><a href="15-pr.html#SP18">Properties::exclude_from_index</a></span><span class="plain">(</span><span class="identifier">prn</span><span class="plain">);</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">either_or</span><span class="plain"> = </span><span class="identifier">FALSE</span><span class="plain">;</span>
        <span class="functiontext"><a href="15-pr.html#SP21">Properties::set_translation_S</a></span><span class="plain">(</span><span class="identifier">prn</span><span class="plain">, </span><span class="identifier">I6_form</span><span class="plain">);</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">property_value_kind</span><span class="plain"> = </span><span class="identifier">K</span><span class="plain">;</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">setting_bp</span><span class="plain"> = </span><span class="functiontext"><a href="15-spr2.html#SP6">Properties::SettingRelations::make_set_nameless_property_BP</a></span><span class="plain">(</span><span class="identifier">prn</span><span class="plain">);</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">stored_bp</span><span class="plain"> = </span><span class="identifier">NULL</span><span class="plain">;</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">run_time_only</span><span class="plain"> = </span><span class="identifier">TRUE</span><span class="plain">;</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">prn</span><span class="plain">;</span>
    <span class="plain">}</span>

    <span class="reserved">property</span><span class="plain"> *</span><span class="functiontext">Properties::Valued::new_nameless_using<button class="popup" onclick="togglePopup('usagePopup1151')">...<span class="popuptext" id="usagePopup1151">Usage of <b>Properties::Valued::new_nameless_using</b>:<br>Instance Counting - <a href="16-ic.html#SP12_2">&#167;12.2</a></span></button></span><span class="plain">(</span><span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">K</span><span class="plain">, </span><span class="identifier">package_request</span><span class="plain"> *</span><span class="identifier">R</span><span class="plain">, </span><span class="identifier">inter_name</span><span class="plain"> *</span><span class="identifier">using</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">K</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"new nameless property without kind"</span><span class="plain">);</span>
        <span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain"> = </span><span class="functiontext"><a href="15-pr.html#SP5">Properties::create</a></span><span class="plain">(</span><span class="identifier">EMPTY_WORDING</span><span class="plain">, </span><span class="identifier">R</span><span class="plain">, </span><span class="identifier">using</span><span class="plain">);</span>
        <span class="functiontext"><a href="15-pr.html#SP18">Properties::exclude_from_index</a></span><span class="plain">(</span><span class="identifier">prn</span><span class="plain">);</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">either_or</span><span class="plain"> = </span><span class="identifier">FALSE</span><span class="plain">;</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">property_value_kind</span><span class="plain"> = </span><span class="identifier">K</span><span class="plain">;</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">setting_bp</span><span class="plain"> = </span><span class="functiontext"><a href="15-spr2.html#SP6">Properties::SettingRelations::make_set_nameless_property_BP</a></span><span class="plain">(</span><span class="identifier">prn</span><span class="plain">);</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">stored_bp</span><span class="plain"> = </span><span class="identifier">NULL</span><span class="plain">;</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">run_time_only</span><span class="plain"> = </span><span class="identifier">TRUE</span><span class="plain">;</span>
        <span class="functiontext"><a href="15-pr.html#SP21">Properties::set_translation_S</a></span><span class="plain">(</span><span class="identifier">prn</span><span class="plain">, </span><span class="functiontext"><a href="27-em.html#SP4">Emit::to_text</a></span><span class="plain">(</span><span class="identifier">using</span><span class="plain">));</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">prn</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP4"></a><b>&#167;4. Initialising details. </b></p>

<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Properties::Valued::initialise<button class="popup" onclick="togglePopup('usagePopup1152')">...<span class="popuptext" id="usagePopup1152">Usage of <b>Properties::Valued::initialise</b>:<br>Properties - <a href="15-pr.html#SP5_3">&#167;5.3</a></span></button></span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">) {</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">property_value_kind</span><span class="plain"> = </span><span class="identifier">NULL</span><span class="plain">;</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">setting_bp</span><span class="plain"> = </span><span class="identifier">NULL</span><span class="plain">;</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">used_for_non_typesafe_relation</span><span class="plain"> = </span><span class="identifier">FALSE</span><span class="plain">;</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">also_a_type</span><span class="plain"> = </span><span class="identifier">FALSE</span><span class="plain">;</span>
        <span class="functiontext"><a href="15-cp.html#SP2">Properties::Conditions::initialise</a></span><span class="plain">(</span><span class="identifier">prn</span><span class="plain">);</span>
    <span class="plain">}</span>

    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Properties::Valued::make_setting_relation<button class="popup" onclick="togglePopup('usagePopup1153')">...<span class="popuptext" id="usagePopup1153">Usage of <b>Properties::Valued::make_setting_relation</b>:<br>Properties - <a href="15-pr.html#SP4">&#167;4</a></span></button></span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">, </span><span class="identifier">wording</span><span class="plain"> </span><span class="identifier">W</span><span class="plain">) {</span>
        <span class="reserved">binary_predicate</span><span class="plain"> *</span><span class="identifier">bp</span><span class="plain"> = </span><span class="functiontext"><a href="15-spr2.html#SP3">Properties::SettingRelations::find_set_property_BP</a></span><span class="plain">(</span><span class="identifier">W</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">bp</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) </span><span class="identifier">bp</span><span class="plain"> = </span><span class="functiontext"><a href="15-spr2.html#SP2">Properties::SettingRelations::make_set_property_BP</a></span><span class="plain">(</span><span class="identifier">W</span><span class="plain">);</span>
        <span class="functiontext"><a href="15-spr2.html#SP4">Properties::SettingRelations::fix_property_bp</a></span><span class="plain">(</span><span class="identifier">bp</span><span class="plain">);</span>
        <span class="functiontext"><a href="15-spr2.html#SP4">Properties::SettingRelations::fix_property_bp</a></span><span class="plain">(</span><span class="functiontext"><a href="6-bp.html#SP39">BinaryPredicates::get_reversal</a></span><span class="plain">(</span><span class="identifier">bp</span><span class="plain">));</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">setting_bp</span><span class="plain"> = </span><span class="identifier">bp</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP5"></a><b>&#167;5. Details. </b>The most important fact about a valued property is what the kind of value is:
</p>

<pre class="display">
    <span class="identifier">kind</span><span class="plain"> *</span><span class="functiontext">Properties::Valued::kind<button class="popup" onclick="togglePopup('usagePopup1154')">...<span class="popuptext" id="usagePopup1154">Usage of <b>Properties::Valued::kind</b>:<br><a href="#SP11">&#167;11</a>, Instances - <a href="5-ins.html#SP10">&#167;10</a><br>The Creator - <a href="9-tc.html#SP4_5">&#167;4.5</a><br>Make Assertions - <a href="9-ma.html#SP3_3_25">&#167;3.3.25</a>, <a href="9-ma.html#SP3_3_41_7">&#167;3.3.41.7</a><br>Property Knowledge - <a href="9-pk.html#SP4">&#167;4</a><br>Property Declarations - <a href="9-pd.html#SP5_11">&#167;5.11</a>, <a href="9-pd.html#SP7_1">&#167;7.1</a><br>Tree Conversions - <a href="11-tc.html#SP7_1">&#167;7.1</a><br>Sentence Conversions - <a href="11-sc.html#SP3_3">&#167;3.3</a><br>RValues - <a href="14-rv.html#SP23_3">&#167;23.3</a><br>Lvalues - <a href="14-lv.html#SP10">&#167;10</a>, <a href="14-lv.html#SP12_5">&#167;12.5</a><br>Dash - <a href="14-ds2.html#SP11_9_1_1_2_1">&#167;11.9.1.1.2.1</a>, <a href="14-ds2.html#SP11_9_1_1_3_1_1">&#167;11.9.1.1.3.1.1</a>, <a href="14-ds2.html#SP13">&#167;13</a>, <a href="14-ds2.html#SP19_3_1">&#167;19.3.1</a><br>Properties - <a href="15-pr.html#SP15">&#167;15</a><br>Measurement Adjectives - <a href="15-ma.html#SP8_2">&#167;8.2</a><br>Setting Property Relation - <a href="15-spr2.html#SP8">&#167;8</a>, <a href="15-spr2.html#SP9">&#167;9</a><br>Emit Property Values - <a href="15-epv.html#SP1_1_4">&#167;1.1.4</a><br>Inferences - <a href="16-in.html#SP14">&#167;14</a>, <a href="16-in.html#SP16">&#167;16</a><br>Tables of Definitions - <a href="19-tod.html#SP6_4_1">&#167;6.4.1</a><br>Compile Invocations Inline - <a href="25-cii.html#SP3_1_1_4_11">&#167;3.1.1.4.11</a></span></button></span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">prn</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) || (</span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">either_or</span><span class="plain">)) </span><span class="reserved">return</span><span class="plain"> </span><span class="identifier">NULL</span><span class="plain">; </span><span class="comment"> for better type-checking Problems</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">property_value_kind</span><span class="plain">;</span>
    <span class="plain">}</span>

    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Properties::Valued::set_kind<button class="popup" onclick="togglePopup('usagePopup1155')">...<span class="popuptext" id="usagePopup1155">Usage of <b>Properties::Valued::set_kind</b>:<br><a href="#SP6">&#167;6</a>, Relations - <a href="6-rlt.html#SP9_3_8">&#167;9.3.8</a>, <a href="6-rlt.html#SP9_12">&#167;9.12</a><br>Property Declarations - <a href="9-pd.html#SP7_1">&#167;7.1</a><br>Properties - <a href="15-pr.html#SP5_6">&#167;5.6</a><br>Tables of Definitions - <a href="19-tod.html#SP6_4_1">&#167;6.4.1</a></span></button></span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">, </span><span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">K</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">K</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"tried to set null kind"</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">prn</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) || (</span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">either_or</span><span class="plain">)) </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"non-value property"</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">Kinds::Behaviour::definite</span><span class="plain">(</span><span class="identifier">K</span><span class="plain">) == </span><span class="identifier">FALSE</span><span class="plain">) &amp;&amp; (</span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">do_not_compile</span><span class="plain"> == </span><span class="identifier">FALSE</span><span class="plain">)) {</span>
            <span class="identifier">Problems::quote_wording</span><span class="plain">(1, </span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">name</span><span class="plain">);</span>
            <span class="functiontext"><a href="2-sq.html#SP3">Problems::quote_kind</a></span><span class="plain">(2, </span><span class="identifier">K</span><span class="plain">);</span>
            <span class="identifier">Problems::Issue::handmade_problem</span><span class="plain">(</span><span class="functiontext"><a href="1-wtc.html#SP5">Task::syntax_tree</a></span><span class="plain">(), </span><span class="identifier">_p_</span><span class="plain">(</span><span class="identifier">PM_PropertyIndefinite</span><span class="plain">));</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">current_sentence</span><span class="plain">) {</span>
                <span class="identifier">Problems::quote_source</span><span class="plain">(3, </span><span class="identifier">current_sentence</span><span class="plain">);</span>
                <span class="identifier">Problems::issue_problem_segment</span><span class="plain">(</span>
                    <span class="string">"In the sentence %3, I am unable to create the property '%1', because "</span>
                    <span class="string">"it has too vague a kind ('%2'). I need to know exactly what kind of "</span>
                    <span class="string">"value goes into each property: for instance, it's not enough to say "</span>
                    <span class="string">"'A door has a list of values called the access list', because I don't "</span>
                    <span class="string">"know what the entries in this list would have to be - 'A door has a "</span>
                    <span class="string">"list of people called the access list' would be better."</span><span class="plain">);</span>
            <span class="plain">} </span><span class="reserved">else</span><span class="plain"> {</span>
                <span class="identifier">Problems::issue_problem_segment</span><span class="plain">(</span>
                    <span class="string">"I am unable to create the property '%1', because it has too vague "</span>
                    <span class="string">"a kind ('%2'). I need to know exactly what kind of value goes into each "</span>
                    <span class="string">"property: for instance, it's not enough to say 'A door has a list of values "</span>
                    <span class="string">"called the access list', because I don't know what the entries in this "</span>
                    <span class="string">"list would have to be - 'A door has a list of people called the access "</span>
                    <span class="string">"list' would be better."</span><span class="plain">);</span>
            <span class="plain">}</span>
            <span class="identifier">Problems::issue_problem_end</span><span class="plain">();</span>
        <span class="plain">}</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">property_value_kind</span><span class="plain"> = </span><span class="identifier">K</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP6"></a><b>&#167;6.  </b>Sometimes the name of a property is the same as that of a kind of value.
For instance, we might define a kind of value called "weight", and
then say that a thing has a weight: that makes a property also called
"weight", which is a value property whose value is always a weight.
</p>

<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Properties::Valued::make_coincide_with_kind<button class="popup" onclick="togglePopup('usagePopup1156')">...<span class="popuptext" id="usagePopup1156">Usage of <b>Properties::Valued::make_coincide_with_kind</b>:<br>Properties - <a href="15-pr.html#SP5_4">&#167;5.4</a></span></button></span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">, </span><span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">K</span><span class="plain">) {</span>
        <span class="functiontext"><a href="#SP5">Properties::Valued::set_kind</a></span><span class="plain">(</span><span class="identifier">prn</span><span class="plain">, </span><span class="identifier">K</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">Kinds::Compare::eq</span><span class="plain">(</span><span class="identifier">K</span><span class="plain">, </span><span class="identifier">K_grammatical_gender</span><span class="plain">)) </span><span class="identifier">P_grammatical_gender</span><span class="plain"> = </span><span class="identifier">prn</span><span class="plain">;</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">also_a_type</span><span class="plain"> = </span><span class="identifier">TRUE</span><span class="plain">;</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="15-cp.html#SP5">Properties::Conditions::name_can_coincide_with_property</a></span><span class="plain">(</span><span class="identifier">K</span><span class="plain">))</span>
            <span class="functiontext"><a href="5-ins.html#SP9">Instances::make_kind_coincident</a></span><span class="plain">(</span><span class="identifier">K</span><span class="plain">, </span><span class="identifier">prn</span><span class="plain">);</span>
    <span class="plain">}</span>

    <span class="reserved">int</span><span class="plain"> </span><span class="functiontext">Properties::Valued::coincides_with_kind<button class="popup" onclick="togglePopup('usagePopup1157')">...<span class="popuptext" id="usagePopup1157">Usage of <b>Properties::Valued::coincides_with_kind</b>:<br>Refine Parse Tree - <a href="9-rpt.html#SP9_7_3">&#167;9.7.3</a><br>The Creator - <a href="9-tc.html#SP4_5">&#167;4.5</a><br>Make Assertions - <a href="9-ma.html#SP3_3_25">&#167;3.3.25</a>, <a href="9-ma.html#SP3_3_41_7">&#167;3.3.41.7</a><br>Sentence Conversions - <a href="11-sc.html#SP3_3">&#167;3.3</a><br>Dash - <a href="14-ds2.html#SP11_9_1_1_3_1_1">&#167;11.9.1.1.3.1.1</a></span></button></span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">prn</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) || (</span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">either_or</span><span class="plain">)) </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"non-value property"</span><span class="plain">);</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">also_a_type</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP7"></a><b>&#167;7.  </b>Every valued property has an associated relation to set its value.
</p>

<pre class="display">
    <span class="reserved">binary_predicate</span><span class="plain"> *</span><span class="functiontext">Properties::Valued::get_setting_bp<button class="popup" onclick="togglePopup('usagePopup1158')">...<span class="popuptext" id="usagePopup1158">Usage of <b>Properties::Valued::get_setting_bp</b>:<br>Tree Conversions - <a href="11-tc.html#SP4">&#167;4</a></span></button></span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">prn</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) || (</span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">either_or</span><span class="plain">)) </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"non-value property"</span><span class="plain">);</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">setting_bp</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP8"></a><b>&#167;8.  </b>Some value properties are used for relation storage:
</p>

<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Properties::Valued::set_stored_relation<button class="popup" onclick="togglePopup('usagePopup1159')">...<span class="popuptext" id="usagePopup1159">Usage of <b>Properties::Valued::set_stored_relation</b>:<br>Relations - <a href="6-rlt.html#SP9">&#167;9</a></span></button></span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">, </span><span class="reserved">binary_predicate</span><span class="plain"> *</span><span class="identifier">bp</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">prn</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) || (</span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">either_or</span><span class="plain">)) </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"non-value property"</span><span class="plain">);</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">stored_bp</span><span class="plain"> = </span><span class="identifier">bp</span><span class="plain">;</span>
    <span class="plain">}</span>

    <span class="reserved">binary_predicate</span><span class="plain"> *</span><span class="functiontext">Properties::Valued::get_stored_relation<button class="popup" onclick="togglePopup('usagePopup1160')">...<span class="popuptext" id="usagePopup1160">Usage of <b>Properties::Valued::get_stored_relation</b>:<br>Dash - <a href="14-ds2.html#SP10_1_1_3_1_3">&#167;10.1.1.3.1.3</a><br>Inferences - <a href="16-in.html#SP20_3_3">&#167;20.3.3</a></span></button></span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">prn</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) || (</span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">either_or</span><span class="plain">)) </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"non-value property"</span><span class="plain">);</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">stored_bp</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP9"></a><b>&#167;9.  </b>When a property is used to store certain forms of relation, it then needs
to store either a value within one of the domains, or else a null value used
to mean "this is not set at the moment". Since that null value isn't
a member of the domain, it follows that the property is breaking type safety
when it stores it. This means we need to relax typechecking to enable this
all to work; the following keep a flag to mark that.
</p>

<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Properties::Valued::now_used_for_non_typesafe_relation<button class="popup" onclick="togglePopup('usagePopup1161')">...<span class="popuptext" id="usagePopup1161">Usage of <b>Properties::Valued::now_used_for_non_typesafe_relation</b>:<br>Relations - <a href="6-rlt.html#SP9_3_8">&#167;9.3.8</a></span></button></span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">prn</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) || (</span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">either_or</span><span class="plain">)) </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"non-value property"</span><span class="plain">);</span>
        <span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">used_for_non_typesafe_relation</span><span class="plain"> = </span><span class="identifier">TRUE</span><span class="plain">;</span>
    <span class="plain">}</span>

    <span class="reserved">int</span><span class="plain"> </span><span class="functiontext">Properties::Valued::is_used_for_non_typesafe_relation<button class="popup" onclick="togglePopup('usagePopup1162')">...<span class="popuptext" id="usagePopup1162">Usage of <b>Properties::Valued::is_used_for_non_typesafe_relation</b>:<br><a href="#SP11">&#167;11</a></span></button></span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">prn</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) || (</span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">either_or</span><span class="plain">)) </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"non-value property"</span><span class="plain">);</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">used_for_non_typesafe_relation</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP10"></a><b>&#167;10. Assertion. </b></p>

<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Properties::Valued::assert<button class="popup" onclick="togglePopup('usagePopup1163')">...<span class="popuptext" id="usagePopup1163">Usage of <b>Properties::Valued::assert</b>:<br>Relations - <a href="6-rlt.html#SP26_1">&#167;26.1</a><br>The Creator - <a href="9-tc.html#SP5_4_1_1">&#167;5.4.1.1</a><br>Indefinite Appearance - <a href="15-ia.html#SP1">&#167;1</a>, <a href="15-ia.html#SP2">&#167;2</a><br>Instance Counting - <a href="16-ic.html#SP12_1">&#167;12.1</a>, <a href="16-ic.html#SP12_3_1">&#167;12.3.1</a>, <a href="16-ic.html#SP12_3_2">&#167;12.3.2</a>, <a href="16-ic.html#SP12_3_3">&#167;12.3.3</a></span></button></span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">, </span><span class="reserved">inference_subject</span><span class="plain"> *</span><span class="identifier">owner</span><span class="plain">,</span>
        <span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">val</span><span class="plain">, </span><span class="reserved">int</span><span class="plain"> </span><span class="identifier">certainty</span><span class="plain">) {</span>
        <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-tc.html#SP4">Calculus::Propositions::Abstract::to_set_property</a></span><span class="plain">(</span><span class="identifier">prn</span><span class="plain">, </span><span class="identifier">val</span><span class="plain">);</span>
        <span class="functiontext"><a href="12-ap.html#SP5">Calculus::Propositions::Assert::assert_true_about</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">, </span><span class="identifier">owner</span><span class="plain">, </span><span class="identifier">certainty</span><span class="plain">);</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP11"></a><b>&#167;11. Compilation. </b>When we compile the value of a valued property, the following is called.
In theory the result could depend on the property name; in practice it doesn't.
(But this would enable us to implement certain properties with different
storage methods at run-time if we wanted.)
</p>

<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Properties::Valued::compile_value<button class="popup" onclick="togglePopup('usagePopup1164')">...<span class="popuptext" id="usagePopup1164">Usage of <b>Properties::Valued::compile_value</b>:<br>Properties - <a href="15-pr.html#SP26">&#167;26</a></span></button></span><span class="plain">(</span><span class="identifier">value_holster</span><span class="plain"> *</span><span class="identifier">VH</span><span class="plain">, </span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">, </span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">val</span><span class="plain">) {</span>
        <span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">K</span><span class="plain"> = </span><span class="functiontext"><a href="#SP5">Properties::Valued::kind</a></span><span class="plain">(</span><span class="identifier">prn</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">K</span><span class="plain">) </span><span class="functiontext"><a href="14-cfs.html#SP9">Specifications::Compiler::compile_constant_to_kind_vh</a></span><span class="plain">(</span><span class="identifier">VH</span><span class="plain">, </span><span class="identifier">val</span><span class="plain">, </span><span class="identifier">K</span><span class="plain">);</span>
        <span class="reserved">else</span><span class="plain"> {</span>
            <span class="constant">BEGIN_COMPILATION_MODE</span><span class="plain">;</span>
            <span class="identifier">COMPILATION_MODE_EXIT</span><span class="plain">(</span><span class="constant">DEREFERENCE_POINTERS_CMODE</span><span class="plain">);</span>
            <span class="functiontext"><a href="14-cfs.html#SP6">Specifications::Compiler::compile_inner</a></span><span class="plain">(</span><span class="identifier">VH</span><span class="plain">, </span><span class="identifier">val</span><span class="plain">);</span>
            <span class="constant">END_COMPILATION_MODE</span><span class="plain">;</span>
        <span class="plain">}</span>
    <span class="plain">}</span>

    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Properties::Valued::compile_default_value<button class="popup" onclick="togglePopup('usagePopup1165')">...<span class="popuptext" id="usagePopup1165">Usage of <b>Properties::Valued::compile_default_value</b>:<br>Properties - <a href="15-pr.html#SP25">&#167;25</a></span></button></span><span class="plain">(</span><span class="identifier">value_holster</span><span class="plain"> *</span><span class="identifier">VH</span><span class="plain">, </span><span class="reserved">property</span><span class="plain"> *</span><span class="identifier">prn</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="#SP9">Properties::Valued::is_used_for_non_typesafe_relation</a></span><span class="plain">(</span><span class="identifier">prn</span><span class="plain">)) {</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">Holsters::data_acceptable</span><span class="plain">(</span><span class="identifier">VH</span><span class="plain">))</span>
                <span class="identifier">Holsters::holster_pair</span><span class="plain">(</span><span class="identifier">VH</span><span class="plain">, </span><span class="identifier">LITERAL_IVAL</span><span class="plain">, </span><span class="constant">0</span><span class="plain">);</span>
            <span class="reserved">return</span><span class="plain">;</span>
        <span class="plain">}</span>
        <span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">K</span><span class="plain"> = </span><span class="functiontext"><a href="#SP5">Properties::Valued::kind</a></span><span class="plain">(</span><span class="identifier">prn</span><span class="plain">);</span>
        <span class="identifier">current_sentence</span><span class="plain"> = </span><span class="identifier">NULL</span><span class="plain">;</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="13-rsfk.html#SP4">Kinds::RunTime::compile_default_value_vh</a></span><span class="plain">(</span><span class="identifier">VH</span><span class="plain">, </span><span class="identifier">K</span><span class="plain">, </span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">name</span><span class="plain">, </span><span class="string">"property"</span><span class="plain">) == </span><span class="identifier">FALSE</span><span class="plain">) {</span>
            <span class="identifier">Problems::quote_wording</span><span class="plain">(1, </span><span class="identifier">prn</span><span class="plain">-&gt;</span><span class="element">name</span><span class="plain">);</span>
            <span class="identifier">Problems::Issue::handmade_problem</span><span class="plain">(</span><span class="functiontext"><a href="1-wtc.html#SP5">Task::syntax_tree</a></span><span class="plain">(), </span><span class="identifier">_p_</span><span class="plain">(</span><span class="identifier">PM_PropertyUninitialisable</span><span class="plain">));</span>
            <span class="identifier">Problems::issue_problem_segment</span><span class="plain">(</span>
                <span class="string">"I am unable to put any value into the property '%1', because "</span>
                <span class="string">"it seems to have a kind of value which has no actual values."</span><span class="plain">);</span>
            <span class="identifier">Problems::issue_problem_end</span><span class="plain">();</span>
        <span class="plain">}</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<hr class="tocbar">
<ul class="toc"><li><a href="15-ep.html">Back to 'Either-Or Properties'</a></li><li><a href="15-cp.html">Continue with 'Condition Properties'</a></li></ul><hr class="tocbar">
<!--End of weave-->
<script>
function togglePopup(material_id) {
  var popup = document.getElementById(material_id);
  popup.classList.toggle("show");
}
</script>

<link href="Popups.css" rel="stylesheet" rev="stylesheet" type="text/css">
		</main>
	</body>
</html>

