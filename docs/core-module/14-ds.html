<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>Descriptions</title>
		<meta name="viewport" content="width=device-width initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Content-Language" content="en-gb">
		<link href="../inweb.css" rel="stylesheet" rev="stylesheet" type="text/css">
		
	</head>
	<body>
		<nav role="navigation">
		<h1><a href="../index.html">
<img src="../docs-src/Figures/Inform.png" height=72">
</a></h1>
<ul><li><a href="../compiler.html">compiler tools</a></li>
<li><a href="../other.html">other tools</a></li>
<li><a href="../extensions.html">extensions and kits</a></li>
<li><a href="../units.html">unit test tools</a></li>
</ul><h2>Compiler Webs</h2><ul>
<li><a href="../inbuild/index.html">inbuild</a></li>
<li><a href="../inform7/index.html">inform7</a></li>
<li><a href="../inter/index.html">inter</a></li>
</ul><h2>Inbuild Modules</h2><ul>
<li><a href="../supervisor-module/index.html">supervisor</a></li>
</ul><h2>Inform7 Modules</h2><ul>
<li><a href="index.html"><span class="selectedlink">core</span></a></li>
<li><a href="../inflections-module/index.html">inflections</a></li>
<li><a href="../linguistics-module/index.html">linguistics</a></li>
<li><a href="../kinds-module/index.html">kinds</a></li>
<li><a href="../if-module/index.html">if</a></li>
<li><a href="../multimedia-module/index.html">multimedia</a></li>
<li><a href="../problems-module/index.html">problems</a></li>
<li><a href="../index-module/index.html">index</a></li>
</ul><h2>Inter Modules</h2><ul>
<li><a href="../bytecode-module/index.html">bytecode</a></li>
<li><a href="../building-module/index.html">building</a></li>
<li><a href="../codegen-module/index.html">codegen</a></li>
</ul><h2>Shared Modules</h2><ul>
<li><a href="../arch-module/index.html">arch</a></li>
<li><a href="../syntax-module/index.html">syntax</a></li>
<li><a href="../words-module/index.html">words</a></li>
<li><a href="../html-module/index.html">html</a></li>
<li><a href="../../../inweb/docs/foundation-module/index.html">foundation</a></li>

</ul>
		</nav>
		<main role="main">
		
<!--Weave of 'Descriptions' generated by 7-->
<ul class="crumbs"><li><a href="../index.html">Home</a></li><li><a href="../compiler.html">Inform7 Modules</a></li><li><a href="index.html">core</a></li><li><a href="index.html#14">Chapter 14: Specifications</a></li><li><b>Descriptions</b></li></ul><p class="purpose">Description nodes represent text such as "even numbers", which can either define a set of values or a predicate on them.</p>

<ul class="toc"><li><a href="#SP1">&#167;1. Descriptions vs propositions</a></li><li><a href="#SP3">&#167;3. Descriptions vs kinds</a></li><li><a href="#SP5">&#167;5. Descriptions vs instances</a></li><li><a href="#SP6">&#167;6. Descriptions vs constants</a></li><li><a href="#SP7">&#167;7. Testing</a></li><li><a href="#SP8">&#167;8. Adjectives</a></li><li><a href="#SP9">&#167;9. Quantification</a></li><li><a href="#SP10">&#167;10. Callings</a></li><li><a href="#SP11">&#167;11. Pretty-printing</a></li><li><a href="#SP12">&#167;12. Comparing</a></li></ul><hr class="tocbar">

<p class="inwebparagraph"><a id="SP1"></a><b>&#167;1. Descriptions vs propositions. </b>A description of K-values is stored as a <code class="display"><span class="extract">TEST_VALUE_NT</span></code> node with a constant
node beneath it of kind "description of K":
</p>

<pre class="display">
    <span class="identifier">parse_node</span><span class="plain"> *</span><span class="functiontext">Descriptions::from_proposition<button class="popup" onclick="togglePopup('usagePopup1025')">...<span class="popuptext" id="usagePopup1025">Usage of <b>Descriptions::from_proposition</b>:<br><a href="#SP3">&#167;3</a>, <a href="#SP5">&#167;5</a>, Constants and Descriptions - <a href="10-cad.html#SP8">&#167;8</a>, <a href="10-cad.html#SP10">&#167;10</a>, <a href="10-cad.html#SP19_1">&#167;19.1</a><br>Verbal and Relative Clauses - <a href="10-varc.html#SP9_1">&#167;9.1</a>, <a href="10-varc.html#SP13_4">&#167;13.4</a></span></button></span><span class="plain">(</span><span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain">, </span><span class="identifier">wording</span><span class="plain"> </span><span class="identifier">W</span><span class="plain">) {</span>
        <span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain"> = </span><span class="identifier">ParseTree::new_with_words</span><span class="plain">(</span><span class="constant">TEST_VALUE_NT</span><span class="plain">, </span><span class="identifier">W</span><span class="plain">);</span>
        <span class="identifier">spec</span><span class="plain">-&gt;</span><span class="element">down</span><span class="plain"> = </span><span class="functiontext"><a href="14-rv.html#SP18">Rvalues::constant_description</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">, </span><span class="identifier">W</span><span class="plain">);</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">spec</span><span class="plain">;</span>
    <span class="plain">}</span>

    <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="functiontext">Descriptions::to_proposition<button class="popup" onclick="togglePopup('usagePopup1026')">...<span class="popuptext" id="usagePopup1026">Usage of <b>Descriptions::to_proposition</b>:<br><a href="#SP3">&#167;3</a>, <a href="#SP4">&#167;4</a>, <a href="#SP5">&#167;5</a>, <a href="#SP6">&#167;6</a>, <a href="#SP7">&#167;7</a>, <a href="#SP8">&#167;8</a>, <a href="#SP9">&#167;9</a>, <a href="#SP10">&#167;10</a>, <a href="#SP12_1">&#167;12.1</a>, Propositions - <a href="11-pr.html#SP35">&#167;35</a><br>Specifications - <a href="14-sp.html#SP3">&#167;3</a><br>Conditions - <a href="14-cn.html#SP13">&#167;13</a><br>Dash - <a href="14-ds2.html#SP25">&#167;25</a><br>Describing Phrase Type Data - <a href="22-dptd.html#SP20_2_3">&#167;20.2.3</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">)) </span><span class="identifier">spec</span><span class="plain"> = </span><span class="identifier">spec</span><span class="plain">-&gt;</span><span class="element">down</span><span class="plain">;</span>
        <span class="reserved">else</span><span class="plain"> </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"tried to extract proposition from non-description"</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-rv.html#SP19">Rvalues::is_CONSTANT_construction</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">, </span><span class="identifier">CON_description</span><span class="plain">))</span>
            <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">NULL</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP2"></a><b>&#167;2.  </b>We are going to need to edit the proposition, using the following:
</p>

<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Descriptions::set_proposition<button class="popup" onclick="togglePopup('usagePopup1027')">...<span class="popuptext" id="usagePopup1027">Usage of <b>Descriptions::set_proposition</b>:<br><a href="#SP3">&#167;3</a>, <a href="#SP8">&#167;8</a>, <a href="#SP9">&#167;9</a>, <a href="#SP10">&#167;10</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">, </span><span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">)) </span><span class="identifier">spec</span><span class="plain"> = </span><span class="identifier">spec</span><span class="plain">-&gt;</span><span class="element">down</span><span class="plain">;</span>
        <span class="reserved">else</span><span class="plain"> </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"tried to set proposition for non-description"</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-rv.html#SP19">Rvalues::is_CONSTANT_construction</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">, </span><span class="identifier">CON_description</span><span class="plain">))</span>
            <span class="functiontext"><a href="14-rv.html#SP18">Rvalues::set_constant_description_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">, </span><span class="identifier">prop</span><span class="plain">);</span>
        <span class="reserved">else</span><span class="plain"> </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"set domain proposition wrongly"</span><span class="plain">);</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP3"></a><b>&#167;3. Descriptions vs kinds. </b>A kind is "composited" if it's derived from a word such as "something",
which implies a quantifier as well as a kind.
</p>

<pre class="display">
    <span class="identifier">parse_node</span><span class="plain"> *</span><span class="functiontext">Descriptions::from_kind<button class="popup" onclick="togglePopup('usagePopup1028')">...<span class="popuptext" id="usagePopup1028">Usage of <b>Descriptions::from_kind</b>:<br>Constants and Descriptions - <a href="10-cad.html#SP22">&#167;22</a><br>Specifications - <a href="14-sp.html#SP1">&#167;1</a></span></button></span><span class="plain">(</span><span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">K</span><span class="plain">, </span><span class="reserved">int</span><span class="plain"> </span><span class="identifier">composited</span><span class="plain">) {</span>
        <span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain"> = </span><span class="functiontext"><a href="#SP1">Descriptions::from_proposition</a></span><span class="plain">(</span><span class="identifier">NULL</span><span class="plain">, </span><span class="identifier">EMPTY_WORDING</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">K</span><span class="plain">) { </span><span class="comment"> a test made only for error recovery</span>
            <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain">;</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">composited</span><span class="plain">)</span>
                <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-ap.html#SP18">Calculus::Atoms::KIND_new_composited</a></span><span class="plain">(</span><span class="identifier">K</span><span class="plain">, </span><span class="functiontext"><a href="11-tr.html#SP4">Calculus::Terms::new_variable</a></span><span class="plain">(0));</span>
            <span class="reserved">else</span>
                <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-ap.html#SP18">Calculus::Atoms::KIND_new</a></span><span class="plain">(</span><span class="identifier">K</span><span class="plain">, </span><span class="functiontext"><a href="11-tr.html#SP4">Calculus::Terms::new_variable</a></span><span class="plain">(0));</span>
            <span class="functiontext"><a href="11-tcp.html#SP6">Calculus::Propositions::Checker::type_check</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">,</span>
                <span class="functiontext"><a href="11-tcp.html#SP4">Calculus::Propositions::Checker::tc_no_problem_reporting</a></span><span class="plain">());</span>
            <span class="functiontext"><a href="#SP2">Descriptions::set_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">, </span><span class="identifier">prop</span><span class="plain">);</span>
        <span class="plain">}</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">spec</span><span class="plain">;</span>
    <span class="plain">}</span>

    <span class="identifier">kind</span><span class="plain"> *</span><span class="functiontext">Descriptions::to_kind<button class="popup" onclick="togglePopup('usagePopup1029')">...<span class="popuptext" id="usagePopup1029">Usage of <b>Descriptions::to_kind</b>:<br>Specifications - <a href="14-sp.html#SP1">&#167;1</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="11-bas.html#SP18">Calculus::Variables::infer_kind_of_variable_0</a></span><span class="plain">(</span>
            <span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">));</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP4"></a><b>&#167;4.  </b>Some descriptions explicitly name a kind ("even numbers"), others imply
a kind but do so only implicitly ("scenery").
</p>

<pre class="display">
    <span class="reserved">int</span><span class="plain"> </span><span class="functiontext">Descriptions::makes_kind_explicit<button class="popup" onclick="togglePopup('usagePopup1030')">...<span class="popuptext" id="usagePopup1030">Usage of <b>Descriptions::makes_kind_explicit</b>:<br>Refine Parse Tree - <a href="9-rpt.html#SP10_1">&#167;10.1</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">)) &amp;&amp;</span>
            <span class="plain">(</span><span class="functiontext"><a href="#SP4">Descriptions::explicit_kind</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">))) </span><span class="reserved">return</span><span class="plain"> </span><span class="identifier">TRUE</span><span class="plain">;</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">FALSE</span><span class="plain">;</span>
    <span class="plain">}</span>

    <span class="identifier">kind</span><span class="plain"> *</span><span class="functiontext">Descriptions::explicit_kind<button class="popup" onclick="togglePopup('usagePopup1031')">...<span class="popuptext" id="usagePopup1031">Usage of <b>Descriptions::explicit_kind</b>:<br><a href="#SP7">&#167;7</a>, <a href="#SP10">&#167;10</a>, <a href="#SP12_4">&#167;12.4</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="11-pr.html#SP23">Calculus::Propositions::describes_kind</a></span><span class="plain">(</span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">));</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP5"></a><b>&#167;5. Descriptions vs instances. </b>One is not allowed to form a description such as "the even 22", where
adjectives are applied to a literal. But one is allowed to do so with
a named object or similar, so:
</p>

<pre class="display">
    <span class="identifier">parse_node</span><span class="plain"> *</span><span class="functiontext">Descriptions::from_instance<button class="popup" onclick="togglePopup('usagePopup1032')">...<span class="popuptext" id="usagePopup1032">Usage of <b>Descriptions::from_instance</b>:<br>Constants and Descriptions - <a href="10-cad.html#SP12">&#167;12</a></span></button></span><span class="plain">(</span><span class="reserved">instance</span><span class="plain"> *</span><span class="identifier">I</span><span class="plain">, </span><span class="identifier">wording</span><span class="plain"> </span><span class="identifier">W</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">I</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"description of null instance"</span><span class="plain">);</span>
        <span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">val</span><span class="plain"> = </span><span class="functiontext"><a href="14-rv.html#SP3">Rvalues::from_instance</a></span><span class="plain">(</span><span class="identifier">I</span><span class="plain">);</span>
        <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-ap.html#SP22">Calculus::Atoms::prop_x_is_constant</a></span><span class="plain">(</span><span class="identifier">val</span><span class="plain">);</span>
        <span class="functiontext"><a href="11-tcp.html#SP6">Calculus::Propositions::Checker::type_check</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">,</span>
            <span class="functiontext"><a href="11-tcp.html#SP4">Calculus::Propositions::Checker::tc_no_problem_reporting</a></span><span class="plain">());</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="#SP1">Descriptions::from_proposition</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">, </span><span class="identifier">W</span><span class="plain">);</span>
    <span class="plain">}</span>

    <span class="reserved">instance</span><span class="plain"> *</span><span class="functiontext">Descriptions::to_instance<button class="popup" onclick="togglePopup('usagePopup1033')">...<span class="popuptext" id="usagePopup1033">Usage of <b>Descriptions::to_instance</b>:<br>Refine Parse Tree - <a href="9-rpt.html#SP9_7_6_3_1">&#167;9.7.6.3.1</a>, <a href="9-rpt.html#SP9_7_6_5_1">&#167;9.7.6.5.1</a>, <a href="9-rpt.html#SP10_1">&#167;10.1</a><br>Assert Propositions - <a href="12-ap.html#SP12">&#167;12</a><br>Deciding to Defer - <a href="12-dtd.html#SP18">&#167;18</a><br>Specifications - <a href="14-sp.html#SP4">&#167;4</a><br>Dash - <a href="14-ds2.html#SP27">&#167;27</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">)) {</span>
            <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
            <span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">val</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP24">Calculus::Propositions::describes_value</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">);</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">val</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) </span><span class="reserved">return</span><span class="plain"> </span><span class="identifier">NULL</span><span class="plain">;</span>
            <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="14-rv.html#SP3">Rvalues::to_instance</a></span><span class="plain">(</span><span class="identifier">val</span><span class="plain">);</span>
        <span class="plain">}</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">NULL</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP6"></a><b>&#167;6. Descriptions vs constants. </b>A description such as "even numbers" is normally represented as a description
node, but sometimes we need to think of this as a noun and not a predicate.
If so, we convert to a constant using the following. Note that we remove
a universal quantifier: this is so that "even numbers", if read as "all
even numbers", becomes rather "is an even number".
</p>

<pre class="display">
    <span class="identifier">parse_node</span><span class="plain"> *</span><span class="functiontext">Descriptions::to_rvalue<button class="popup" onclick="togglePopup('usagePopup1034')">...<span class="popuptext" id="usagePopup1034">Usage of <b>Descriptions::to_rvalue</b>:<br>Dash - <a href="14-ds2.html#SP19_3_1">&#167;19.3.1</a>, <a href="14-ds2.html#SP19_5_3">&#167;19.5.3</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">) == </span><span class="identifier">FALSE</span><span class="plain">) </span><span class="identifier">internal_error</span><span class="plain">(</span><span class="string">"not a description"</span><span class="plain">);</span>

        <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP14">Calculus::Propositions::copy</a></span><span class="plain">(</span>
            <span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">));</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">prop</span><span class="plain">) {</span>
            <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP33">Calculus::Propositions::trim_universal_quantifier</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">);</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="11-bas.html#SP7">Calculus::Variables::number_free</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">) != </span><span class="constant">1</span><span class="plain">)</span>
                <span class="reserved">return</span><span class="plain"> </span><span class="identifier">NULL</span><span class="plain">; </span><span class="comment"> Specifications::new_UNKNOWN(ParseTree::get_text(spec));</span>
        <span class="plain">}</span>

        <span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">con</span><span class="plain"> = </span><span class="identifier">ParseTree::new</span><span class="plain">(</span><span class="constant">CONSTANT_NT</span><span class="plain">);</span>
        <span class="identifier">ParseTree::set_kind_of_value</span><span class="plain">(</span><span class="identifier">con</span><span class="plain">,</span>
            <span class="identifier">Kinds::unary_construction</span><span class="plain">(</span><span class="identifier">CON_description</span><span class="plain">,</span>
                <span class="functiontext"><a href="11-bas.html#SP18">Calculus::Variables::infer_kind_of_variable_0</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">)));</span>
        <span class="identifier">ParseTree::set_proposition</span><span class="plain">(</span><span class="identifier">con</span><span class="plain">, </span><span class="identifier">prop</span><span class="plain">);</span>
        <span class="identifier">ParseTree::set_text</span><span class="plain">(</span><span class="identifier">con</span><span class="plain">, </span><span class="identifier">ParseTree::get_text</span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">));</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">con</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP7"></a><b>&#167;7. Testing. </b>Descriptions are "qualified" when adjectives, or relative clauses, make
them dependent on context. For instance, "a vehicle" is unqualified, but
"an even number" or "a vehicle in Trafalgar Square" are qualified &mdash;
the same value might satisfy the description at some times but not others
during play.
</p>

<pre class="display">
    <span class="reserved">int</span><span class="plain"> </span><span class="functiontext">Descriptions::is_qualified<button class="popup" onclick="togglePopup('usagePopup1035')">...<span class="popuptext" id="usagePopup1035">Usage of <b>Descriptions::is_qualified</b>:<br>Adjective Meanings - <a href="4-am.html#SP24_5">&#167;24.5</a><br>Property Knowledge - <a href="9-pk.html#SP3">&#167;3</a><br>Property Declarations - <a href="9-pd.html#SP5_6">&#167;5.6</a>, <a href="9-pd.html#SP5_11_1">&#167;5.11.1</a><br>Dash - <a href="14-ds2.html#SP27">&#167;27</a><br>Rulebooks - <a href="21-rl2.html#SP14">&#167;14</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">)) &amp;&amp;</span>
            <span class="plain">((</span><span class="functiontext"><a href="#SP7">Descriptions::is_complex</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">)) ||</span>
                <span class="plain">(</span><span class="functiontext"><a href="#SP8">Descriptions::number_of_adjectives_applied_to</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">) &gt; </span><span class="constant">0</span><span class="plain">)))</span>
            <span class="reserved">return</span><span class="plain"> </span><span class="identifier">TRUE</span><span class="plain">;</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">FALSE</span><span class="plain">;</span>
    <span class="plain">}</span>

    <span class="reserved">int</span><span class="plain"> </span><span class="functiontext">Descriptions::is_kind_like<button class="popup" onclick="togglePopup('usagePopup1036')">...<span class="popuptext" id="usagePopup1036">Usage of <b>Descriptions::is_kind_like</b>:<br>Specifications - <a href="14-sp.html#SP2">&#167;2</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">)) &amp;&amp;</span>
            <span class="plain">(</span><span class="functiontext"><a href="11-pr.html#SP19">Calculus::Propositions::length</a></span><span class="plain">(</span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">)) == </span><span class="constant">1</span><span class="plain">) &amp;&amp;</span>
            <span class="plain">(</span><span class="functiontext"><a href="#SP4">Descriptions::explicit_kind</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">)))</span>
            <span class="reserved">return</span><span class="plain"> </span><span class="identifier">TRUE</span><span class="plain">;</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">FALSE</span><span class="plain">;</span>
    <span class="plain">}</span>

    <span class="reserved">int</span><span class="plain"> </span><span class="functiontext">Descriptions::is_complex<button class="popup" onclick="togglePopup('usagePopup1037')">...<span class="popuptext" id="usagePopup1037">Usage of <b>Descriptions::is_complex</b>:<br><a href="#SP12_1">&#167;12.1</a>, Refine Parse Tree - <a href="9-rpt.html#SP9_7_6_5">&#167;9.7.6.5</a><br>Dash - <a href="14-ds2.html#SP19_4">&#167;19.4</a>, <a href="14-ds2.html#SP19_6_2_1">&#167;19.6.2.1</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">))</span>
            <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="11-pr.html#SP13">Calculus::Propositions::is_complex</a></span><span class="plain">(</span>
                <span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">));</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">FALSE</span><span class="plain">;</span>
    <span class="plain">}</span>

    <span class="reserved">int</span><span class="plain"> </span><span class="functiontext">Descriptions::is_adjectives_plus_kind<button class="popup" onclick="togglePopup('usagePopup1038')">...<span class="popuptext" id="usagePopup1038">Usage of <b>Descriptions::is_adjectives_plus_kind</b>:<br>Assemblies - <a href="9-ass.html#SP9_3">&#167;9.3</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">)) {</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="#SP8">Descriptions::number_of_adjectives_applied_to</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">) == </span><span class="constant">0</span><span class="plain">)</span>
                <span class="reserved">return</span><span class="plain"> </span><span class="identifier">FALSE</span><span class="plain">;</span>
            <span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">K</span><span class="plain"> = </span><span class="functiontext"><a href="#SP4">Descriptions::explicit_kind</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">K</span><span class="plain">) </span><span class="reserved">return</span><span class="plain"> </span><span class="identifier">TRUE</span><span class="plain">;</span>
        <span class="plain">}</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">FALSE</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP8"></a><b>&#167;8. Adjectives. </b>Adjectives occurring in the proposition can be thought of as forming
a list. It's sometimes convenient to loop through this list:
</p>


<pre class="definitions">
    <span class="definitionkeyword">define</span> <span class="identifier">LOOP_THROUGH_ADJECTIVE_LIST</span><span class="plain">(</span><span class="identifier">au</span><span class="plain">, </span><span class="identifier">au_prop</span><span class="plain">, </span><span class="identifier">spec</span><span class="plain">)</span>
        <span class="reserved">for</span><span class="plain"> (</span><span class="identifier">au</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP28">Calculus::Propositions::first_adjective_usage</a></span><span class="plain">(</span>
            <span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">), &amp;</span><span class="identifier">au_prop</span><span class="plain">);</span>
            <span class="identifier">au</span><span class="plain">;</span>
            <span class="identifier">au</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP28">Calculus::Propositions::next_adjective_usage</a></span><span class="plain">(&amp;</span><span class="identifier">au_prop</span><span class="plain">))</span>
</pre>

<pre class="display">
    <span class="reserved">int</span><span class="plain"> </span><span class="functiontext">Descriptions::number_of_adjectives_applied_to<button class="popup" onclick="togglePopup('usagePopup1039')">...<span class="popuptext" id="usagePopup1039">Usage of <b>Descriptions::number_of_adjectives_applied_to</b>:<br><a href="#SP7">&#167;7</a>, <a href="#SP12_3">&#167;12.3</a>, Refine Parse Tree - <a href="9-rpt.html#SP9_7_6_3_1">&#167;9.7.6.3.1</a>, <a href="9-rpt.html#SP9_7_6_5_1">&#167;9.7.6.5.1</a>, <a href="9-rpt.html#SP10">&#167;10</a>, <a href="9-rpt.html#SP10_3">&#167;10.3</a><br>Property Knowledge - <a href="9-pk.html#SP3_2">&#167;3.2</a><br>Deciding to Defer - <a href="12-dtd.html#SP18">&#167;18</a><br>Dash - <a href="14-ds2.html#SP11_9_1_1_5_1_2">&#167;11.9.1.1.5.1.2</a><br>Activities - <a href="21-ac.html#SP8">&#167;8</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="11-pr.html#SP25">Calculus::Propositions::count_unary_predicates</a></span><span class="plain">(</span>
            <span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">));</span>
    <span class="plain">}</span>

    <span class="identifier">adjective_usage</span><span class="plain"> *</span><span class="functiontext">Descriptions::first_adjective_usage<button class="popup" onclick="togglePopup('usagePopup1040')">...<span class="popuptext" id="usagePopup1040">Usage of <b>Descriptions::first_adjective_usage</b>:<br>Refine Parse Tree - <a href="9-rpt.html#SP10_3">&#167;10.3</a><br>Dash - <a href="14-ds2.html#SP11_9_1_1_5_1_2">&#167;11.9.1.1.5.1.2</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="11-pr.html#SP28">Calculus::Propositions::first_adjective_usage</a></span><span class="plain">(</span>
            <span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">), </span><span class="identifier">NULL</span><span class="plain">);</span>
    <span class="plain">}</span>

    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Descriptions::add_to_adjective_list<button class="popup" onclick="togglePopup('usagePopup1041')">...<span class="popuptext" id="usagePopup1041">Usage of <b>Descriptions::add_to_adjective_list</b>:<br>Constants and Descriptions - <a href="10-cad.html#SP10">&#167;10</a>, <a href="10-cad.html#SP11">&#167;11</a><br>Verbal and Relative Clauses - <a href="10-varc.html#SP9_1">&#167;9.1</a></span></button></span><span class="plain">(</span><span class="identifier">adjective_usage</span><span class="plain"> *</span><span class="identifier">au</span><span class="plain">, </span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
        <span class="identifier">adjectival_phrase</span><span class="plain"> *</span><span class="identifier">aph</span><span class="plain"> = </span><span class="identifier">AdjectiveUsages::get_aph</span><span class="plain">(</span><span class="identifier">au</span><span class="plain">);</span>
        <span class="reserved">int</span><span class="plain"> </span><span class="identifier">negated</span><span class="plain"> = </span><span class="identifier">FALSE</span><span class="plain">;</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">AdjectiveUsages::get_parity</span><span class="plain">(</span><span class="identifier">au</span><span class="plain">) == </span><span class="identifier">FALSE</span><span class="plain">) </span><span class="identifier">negated</span><span class="plain"> = </span><span class="identifier">TRUE</span><span class="plain">;</span>
        <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP15">Calculus::Propositions::concatenate</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">,</span>
            <span class="functiontext"><a href="11-ap.html#SP20">Calculus::Atoms::unary_PREDICATE_from_aph</a></span><span class="plain">(</span><span class="identifier">aph</span><span class="plain">, </span><span class="identifier">negated</span><span class="plain">));</span>
        <span class="functiontext"><a href="11-tcp.html#SP6">Calculus::Propositions::Checker::type_check</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">,</span>
            <span class="functiontext"><a href="11-tcp.html#SP4">Calculus::Propositions::Checker::tc_no_problem_reporting</a></span><span class="plain">());</span>
        <span class="functiontext"><a href="#SP2">Descriptions::set_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">, </span><span class="identifier">prop</span><span class="plain">);</span>
    <span class="plain">}</span>

    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Descriptions::add_to_adjective_list_w<button class="popup" onclick="togglePopup('usagePopup1042')">...<span class="popuptext" id="usagePopup1042">Usage of <b>Descriptions::add_to_adjective_list_w</b>:<br>Constants and Descriptions - <a href="10-cad.html#SP11">&#167;11</a></span></button></span><span class="plain">(</span><span class="identifier">adjective_usage</span><span class="plain"> *</span><span class="identifier">au</span><span class="plain">, </span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="identifier">quantifier</span><span class="plain"> *</span><span class="identifier">Q</span><span class="plain"> = </span><span class="functiontext"><a href="#SP9">Descriptions::get_quantifier</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
        <span class="reserved">int</span><span class="plain"> </span><span class="identifier">N</span><span class="plain"> = </span><span class="functiontext"><a href="#SP9">Descriptions::get_quantification_parameter</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
        <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="#SP9">Descriptions::get_inner_prop</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
        <span class="identifier">adjectival_phrase</span><span class="plain"> *</span><span class="identifier">aph</span><span class="plain"> = </span><span class="identifier">AdjectiveUsages::get_aph</span><span class="plain">(</span><span class="identifier">au</span><span class="plain">);</span>
        <span class="reserved">int</span><span class="plain"> </span><span class="identifier">negated</span><span class="plain"> = </span><span class="identifier">FALSE</span><span class="plain">;</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">AdjectiveUsages::get_parity</span><span class="plain">(</span><span class="identifier">au</span><span class="plain">) == </span><span class="identifier">FALSE</span><span class="plain">) </span><span class="identifier">negated</span><span class="plain"> = </span><span class="identifier">TRUE</span><span class="plain">;</span>
        <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP15">Calculus::Propositions::concatenate</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">,</span>
            <span class="functiontext"><a href="11-ap.html#SP20">Calculus::Atoms::unary_PREDICATE_from_aph</a></span><span class="plain">(</span><span class="identifier">aph</span><span class="plain">, </span><span class="identifier">negated</span><span class="plain">));</span>
        <span class="functiontext"><a href="11-tcp.html#SP6">Calculus::Propositions::Checker::type_check</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">,</span>
            <span class="functiontext"><a href="11-tcp.html#SP4">Calculus::Propositions::Checker::tc_no_problem_reporting</a></span><span class="plain">());</span>
        <span class="functiontext"><a href="#SP2">Descriptions::set_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">, </span><span class="identifier">prop</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">Q</span><span class="plain">) </span><span class="functiontext"><a href="#SP9">Descriptions::quantify</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">, </span><span class="identifier">Q</span><span class="plain">, </span><span class="identifier">N</span><span class="plain">);</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP9"></a><b>&#167;9. Quantification. </b>For example, the "all" in "all of the open doors".
</p>

<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Descriptions::quantify<button class="popup" onclick="togglePopup('usagePopup1043')">...<span class="popuptext" id="usagePopup1043">Usage of <b>Descriptions::quantify</b>:<br><a href="#SP8">&#167;8</a>, Constants and Descriptions - <a href="10-cad.html#SP19_3">&#167;19.3</a>, <a href="10-cad.html#SP22">&#167;22</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">, </span><span class="identifier">quantifier</span><span class="plain"> *</span><span class="identifier">q</span><span class="plain">, </span><span class="reserved">int</span><span class="plain"> </span><span class="identifier">par</span><span class="plain">) {</span>
        <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">q</span><span class="plain"> != </span><span class="identifier">exists_quantifier</span><span class="plain">)</span>
            <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP15">Calculus::Propositions::concatenate</a></span><span class="plain">(</span><span class="functiontext"><a href="11-ap.html#SP7">Calculus::Atoms::new</a></span><span class="plain">(</span><span class="constant">DOMAIN_OPEN_ATOM</span><span class="plain">), </span><span class="identifier">prop</span><span class="plain">);</span>
        <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP15">Calculus::Propositions::concatenate</a></span><span class="plain">(</span><span class="functiontext"><a href="11-ap.html#SP8">Calculus::Atoms::QUANTIFIER_new</a></span><span class="plain">(</span><span class="identifier">q</span><span class="plain">, </span><span class="constant">0</span><span class="plain">, </span><span class="identifier">par</span><span class="plain">), </span><span class="identifier">prop</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">q</span><span class="plain"> != </span><span class="identifier">exists_quantifier</span><span class="plain">)</span>
            <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP15">Calculus::Propositions::concatenate</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">, </span><span class="functiontext"><a href="11-ap.html#SP7">Calculus::Atoms::new</a></span><span class="plain">(</span><span class="constant">DOMAIN_CLOSE_ATOM</span><span class="plain">));</span>
        <span class="functiontext"><a href="#SP2">Descriptions::set_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">, </span><span class="identifier">prop</span><span class="plain">);</span>
        <span class="functiontext"><a href="11-tcp.html#SP6">Calculus::Propositions::Checker::type_check</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">, </span><span class="functiontext"><a href="11-tcp.html#SP4">Calculus::Propositions::Checker::tc_no_problem_reporting</a></span><span class="plain">());</span>
    <span class="plain">}</span>

    <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="functiontext">Descriptions::get_inner_prop<button class="popup" onclick="togglePopup('usagePopup1044')">...<span class="popuptext" id="usagePopup1044">Usage of <b>Descriptions::get_inner_prop</b>:<br><a href="#SP8">&#167;8</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">prop</span><span class="plain">) &amp;&amp; (</span><span class="functiontext"><a href="11-ap.html#SP9">Calculus::Atoms::get_quantifier</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">))) {</span>
            <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP14">Calculus::Propositions::copy</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">);</span>
            <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP32">Calculus::Propositions::ungroup_after</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">, </span><span class="identifier">prop</span><span class="plain">, </span><span class="identifier">NULL</span><span class="plain">);</span>
            <span class="reserved">return</span><span class="plain"> </span><span class="identifier">prop</span><span class="plain">-&gt;</span><span class="element">next</span><span class="plain">;</span>
        <span class="plain">}</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="11-pr.html#SP35">Calculus::Propositions::from_spec</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
    <span class="plain">}</span>

    <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="functiontext">Descriptions::get_quantified_prop<button class="popup" onclick="togglePopup('usagePopup1045')">...<span class="popuptext" id="usagePopup1045">Usage of <b>Descriptions::get_quantified_prop</b>:<br>Refine Parse Tree - <a href="9-rpt.html#SP2">&#167;2</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">prop</span><span class="plain">) &amp;&amp; (</span><span class="functiontext"><a href="11-ap.html#SP9">Calculus::Atoms::get_quantifier</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">)) &amp;&amp;</span>
            <span class="plain">(</span><span class="functiontext"><a href="11-ap.html#SP9">Calculus::Atoms::get_quantification_parameter</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">) &gt; </span><span class="constant">0</span><span class="plain">)) {</span>
            <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP14">Calculus::Propositions::copy</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">);</span>
            <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP32">Calculus::Propositions::ungroup_after</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">, </span><span class="identifier">prop</span><span class="plain">, </span><span class="identifier">NULL</span><span class="plain">);</span>
            <span class="reserved">return</span><span class="plain"> </span><span class="identifier">prop</span><span class="plain">-&gt;</span><span class="element">next</span><span class="plain">;</span>
        <span class="plain">}</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="11-pr.html#SP35">Calculus::Propositions::from_spec</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
    <span class="plain">}</span>

    <span class="identifier">quantifier</span><span class="plain"> *</span><span class="functiontext">Descriptions::get_quantifier<button class="popup" onclick="togglePopup('usagePopup1046')">...<span class="popuptext" id="usagePopup1046">Usage of <b>Descriptions::get_quantifier</b>:<br><a href="#SP8">&#167;8</a>, Refine Parse Tree - <a href="9-rpt.html#SP9_7_6_3">&#167;9.7.6.3</a>, <a href="9-rpt.html#SP9_7_6_3_1">&#167;9.7.6.3.1</a><br>Deciding to Defer - <a href="12-dtd.html#SP13">&#167;13</a><br>Dash - <a href="14-ds2.html#SP11_9_1_2_3_3">&#167;11.9.1.2.3.3</a>, <a href="14-ds2.html#SP19_5_3">&#167;19.5.3</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">))</span>
            <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="11-ap.html#SP9">Calculus::Atoms::get_quantifier</a></span><span class="plain">(</span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">));</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">NULL</span><span class="plain">;</span>
    <span class="plain">}</span>

    <span class="reserved">int</span><span class="plain"> </span><span class="functiontext">Descriptions::get_quantification_parameter<button class="popup" onclick="togglePopup('usagePopup1047')">...<span class="popuptext" id="usagePopup1047">Usage of <b>Descriptions::get_quantification_parameter</b>:<br><a href="#SP8">&#167;8</a>, Refine Parse Tree - <a href="9-rpt.html#SP2">&#167;2</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">))</span>
            <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="11-ap.html#SP9">Calculus::Atoms::get_quantification_parameter</a></span><span class="plain">(</span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">));</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="constant">0</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP10"></a><b>&#167;10. Callings. </b>For example, "the neighbour" in "a room which is adjacent to a lighted room
(called the neighbour)".
</p>

<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Descriptions::attach_calling<button class="popup" onclick="togglePopup('usagePopup1048')">...<span class="popuptext" id="usagePopup1048">Usage of <b>Descriptions::attach_calling</b>:<br>Constants and Descriptions - <a href="10-cad.html#SP19_2">&#167;19.2</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">, </span><span class="identifier">wording</span><span class="plain"> </span><span class="identifier">C</span><span class="plain">) {</span>
        <span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">K</span><span class="plain"> = </span><span class="functiontext"><a href="#SP4">Descriptions::explicit_kind</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
        <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
        <span class="identifier">prop</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP15">Calculus::Propositions::concatenate</a></span><span class="plain">(</span>
            <span class="identifier">prop</span><span class="plain">,</span>
            <span class="functiontext"><a href="11-ap.html#SP17">Calculus::Atoms::CALLED_new</a></span><span class="plain">(</span><span class="identifier">C</span><span class="plain">, </span><span class="functiontext"><a href="11-tr.html#SP4">Calculus::Terms::new_variable</a></span><span class="plain">(0), </span><span class="identifier">K</span><span class="plain">));</span>
        <span class="functiontext"><a href="11-tcp.html#SP6">Calculus::Propositions::Checker::type_check</a></span><span class="plain">(</span><span class="identifier">prop</span><span class="plain">, </span><span class="functiontext"><a href="11-tcp.html#SP4">Calculus::Propositions::Checker::tc_no_problem_reporting</a></span><span class="plain">());</span>
        <span class="functiontext"><a href="#SP2">Descriptions::set_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">, </span><span class="identifier">prop</span><span class="plain">);</span>
    <span class="plain">}</span>

    <span class="identifier">wording</span><span class="plain"> </span><span class="functiontext">Descriptions::get_calling<button class="popup" onclick="togglePopup('usagePopup1049')">...<span class="popuptext" id="usagePopup1049">Usage of <b>Descriptions::get_calling</b>:<br>none</span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">))</span>
            <span class="reserved">for</span><span class="plain"> (</span><span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">pp</span><span class="plain"> = </span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">); </span><span class="identifier">pp</span><span class="plain">; </span><span class="identifier">pp</span><span class="plain"> = </span><span class="identifier">pp</span><span class="plain">-&gt;</span><span class="element">next</span><span class="plain">)</span>
                <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">pp</span><span class="plain">-&gt;</span><span class="element">element</span><span class="plain"> == </span><span class="constant">CALLED_ATOM</span><span class="plain">)</span>
                    <span class="reserved">return</span><span class="plain"> </span><span class="functiontext"><a href="11-ap.html#SP17">Calculus::Atoms::CALLED_get_name</a></span><span class="plain">(</span><span class="identifier">pp</span><span class="plain">);</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">EMPTY_WORDING</span><span class="plain">;</span>
    <span class="plain">}</span>

    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Descriptions::clear_calling<button class="popup" onclick="togglePopup('usagePopup1050')">...<span class="popuptext" id="usagePopup1050">Usage of <b>Descriptions::clear_calling</b>:<br>none</span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">spec</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) </span><span class="reserved">return</span><span class="plain">;</span>
        <span class="reserved">pcalc_prop</span><span class="plain"> *</span><span class="identifier">pp</span><span class="plain">, *</span><span class="identifier">prev_pp</span><span class="plain"> = </span><span class="identifier">NULL</span><span class="plain">;</span>
        <span class="reserved">for</span><span class="plain"> (</span><span class="identifier">pp</span><span class="plain"> = </span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">); </span><span class="identifier">pp</span><span class="plain">; </span><span class="identifier">prev_pp</span><span class="plain"> = </span><span class="identifier">pp</span><span class="plain">, </span><span class="identifier">pp</span><span class="plain"> = </span><span class="identifier">pp</span><span class="plain">-&gt;</span><span class="element">next</span><span class="plain">)</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">pp</span><span class="plain">-&gt;</span><span class="element">element</span><span class="plain"> == </span><span class="constant">CALLED_ATOM</span><span class="plain">) {</span>
                <span class="functiontext"><a href="#SP2">Descriptions::set_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">,</span>
                    <span class="functiontext"><a href="11-pr.html#SP18">Calculus::Propositions::delete_atom</a></span><span class="plain">(</span>
                        <span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">), </span><span class="identifier">prev_pp</span><span class="plain">));</span>
                <span class="reserved">return</span><span class="plain">;</span>
            <span class="plain">}</span>
    <span class="plain">}</span>

    <span class="reserved">int</span><span class="plain"> </span><span class="functiontext">Descriptions::makes_callings<button class="popup" onclick="togglePopup('usagePopup1051')">...<span class="popuptext" id="usagePopup1051">Usage of <b>Descriptions::makes_callings</b>:<br>none</span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">spec</span><span class="plain"> == </span><span class="identifier">NULL</span><span class="plain">) </span><span class="reserved">return</span><span class="plain"> </span><span class="identifier">FALSE</span><span class="plain">;</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-sp.html#SP3">Specifications::is_description</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">)) {</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="11-pr.html#SP22">Calculus::Propositions::contains_callings</a></span><span class="plain">(</span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">)))</span>
                <span class="reserved">return</span><span class="plain"> </span><span class="identifier">TRUE</span><span class="plain">;</span>
            <span class="identifier">wording</span><span class="plain"> </span><span class="identifier">C</span><span class="plain"> = </span><span class="functiontext"><a href="#SP10">Descriptions::get_calling</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">Wordings::nonempty</span><span class="plain">(</span><span class="identifier">C</span><span class="plain">)) </span><span class="reserved">return</span><span class="plain"> </span><span class="identifier">TRUE</span><span class="plain">;</span>
        <span class="plain">}</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="identifier">FALSE</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP11"></a><b>&#167;11. Pretty-printing. </b></p>

<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">Descriptions::write_out_in_English<button class="popup" onclick="togglePopup('usagePopup1052')">...<span class="popuptext" id="usagePopup1052">Usage of <b>Descriptions::write_out_in_English</b>:<br>Conditions - <a href="14-cn.html#SP12">&#167;12</a></span></button></span><span class="plain">(</span><span class="identifier">OUTPUT_STREAM</span><span class="plain">, </span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec</span><span class="plain">) {</span>
        <span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">K</span><span class="plain"> = </span><span class="functiontext"><a href="14-sp.html#SP1">Specifications::to_kind</a></span><span class="plain">(</span><span class="identifier">spec</span><span class="plain">);</span>
        <span class="identifier">WRITE</span><span class="plain">(</span><span class="string">"a description"</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">K</span><span class="plain">) {</span>
            <span class="identifier">wording</span><span class="plain"> </span><span class="identifier">KW</span><span class="plain"> = </span><span class="identifier">Kinds::Behaviour::get_name</span><span class="plain">(</span><span class="identifier">K</span><span class="plain">, </span><span class="identifier">TRUE</span><span class="plain">);</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">Wordings::nonempty</span><span class="plain">(</span><span class="identifier">KW</span><span class="plain">)) </span><span class="identifier">WRITE</span><span class="plain">(</span><span class="string">" of %+W"</span><span class="plain">, </span><span class="identifier">KW</span><span class="plain">);</span>
        <span class="plain">}</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP12"></a><b>&#167;12. Comparing. </b>Descriptions are used to set out the domain of rules, and rules have to be sorted
in order of narrowness, which means we need a way to tell which is narrower of
two descriptions.
</p>

<pre class="display">
    <span class="reserved">int</span><span class="plain"> </span><span class="functiontext">Descriptions::compare_specificity<button class="popup" onclick="togglePopup('usagePopup1053')">...<span class="popuptext" id="usagePopup1053">Usage of <b>Descriptions::compare_specificity</b>:<br>Specifications - <a href="14-sp.html#SP7">&#167;7</a></span></button></span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec1</span><span class="plain">, </span><span class="identifier">parse_node</span><span class="plain"> *</span><span class="identifier">spec2</span><span class="plain">) {</span>
        &lt;<span class="cwebmacro">If either of these two descriptions has a complex proposition, then propositional size decides it</span> <span class="cwebmacronumber">12.1</span>&gt;<span class="plain">;</span>
        &lt;<span class="cwebmacro">If the typechecker recognises one as properly within the other, then that's the more specific</span> <span class="cwebmacronumber">12.2</span>&gt;<span class="character">;</span>
        &lt;<span class="cwebmacro">If either of these two descriptions have adjectives, adjective count decides it</span> <span class="cwebmacronumber">12.3</span>&gt;<span class="plain">;</span>
        &lt;<span class="cwebmacro">If both descriptions specify a kind, kind inheritance decides it</span> <span class="cwebmacronumber">12.4</span>&gt;<span class="plain">;</span>
        <span class="reserved">return</span><span class="plain"> </span><span class="constant">0</span><span class="plain">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP12_1"></a><b>&#167;12.1.  </b>Which of two propositions is more specific? To perform that test perfectly,
we would need a way to determine, given two propositions A and B, whether one
implied the other or not. Since predicate calculus is complete, and our
domains are mostly finite, there do in fact exist (slow and difficult)
algorithms which could determine this. But there would be real problems with
larger domains not amenable to model-checking, such as "number", and anyway &mdash;
why not cheat?
</p>

<p class="inwebparagraph">Proposition length is admittedly a crude measure, but because of the fact that
both propositions have come from the same generative algorithm, it does indeed
turn out that \(A\Rightarrow B\) means \(\ell(A) \geq \ell(B)\), where \(\ell\) is
the number of atoms in the proposition. So we simply use it as a sorting key.
</p>


<p class="macrodefinition"><code class="display">
&lt;<span class="cwebmacrodefn">If either of these two descriptions has a complex proposition, then propositional size decides it</span> <span class="cwebmacronumber">12.1</span>&gt; =
</code></p>


<pre class="displaydefn">
        <span class="reserved">int</span><span class="plain"> </span><span class="identifier">comp1</span><span class="plain"> = </span><span class="functiontext"><a href="#SP7">Descriptions::is_complex</a></span><span class="plain">(</span><span class="identifier">spec1</span><span class="plain">);</span>
        <span class="reserved">int</span><span class="plain"> </span><span class="identifier">comp2</span><span class="plain"> = </span><span class="functiontext"><a href="#SP7">Descriptions::is_complex</a></span><span class="plain">(</span><span class="identifier">spec2</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">comp1</span><span class="plain">) || (</span><span class="identifier">comp2</span><span class="plain">)) {</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">comp2</span><span class="plain"> == </span><span class="identifier">FALSE</span><span class="plain">) </span><span class="reserved">return</span><span class="plain"> </span><span class="constant">1</span><span class="plain">;</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">comp1</span><span class="plain"> == </span><span class="identifier">FALSE</span><span class="plain">) </span><span class="reserved">return</span><span class="plain"> -1;</span>
            <span class="reserved">int</span><span class="plain"> </span><span class="identifier">len1</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP19">Calculus::Propositions::length</a></span><span class="plain">(</span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec1</span><span class="plain">));</span>
            <span class="reserved">int</span><span class="plain"> </span><span class="identifier">len2</span><span class="plain"> = </span><span class="functiontext"><a href="11-pr.html#SP19">Calculus::Propositions::length</a></span><span class="plain">(</span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec2</span><span class="plain">));</span>
            <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">len1</span><span class="plain"> &gt; </span><span class="constant">0</span><span class="plain">) || (</span><span class="identifier">len2</span><span class="plain"> &gt; </span><span class="constant">0</span><span class="plain">)) {</span>
                <span class="identifier">LOGIF</span><span class="plain">(</span><span class="identifier">SPECIFICITIES</span><span class="plain">,</span>
                    <span class="string">"Test %d: Comparing specificity of props:\n(%d) $D\n(%d) $D\n"</span><span class="plain">,</span>
                    <span class="identifier">cco</span><span class="plain">, </span><span class="identifier">len1</span><span class="plain">, </span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec1</span><span class="plain">), </span><span class="identifier">len2</span><span class="plain">, </span><span class="functiontext"><a href="#SP1">Descriptions::to_proposition</a></span><span class="plain">(</span><span class="identifier">spec2</span><span class="plain">));</span>
            <span class="plain">}</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">len1</span><span class="plain"> &gt; </span><span class="identifier">len2</span><span class="plain">) </span><span class="reserved">return</span><span class="plain"> </span><span class="constant">1</span><span class="plain">;</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">len1</span><span class="plain"> &lt; </span><span class="identifier">len2</span><span class="plain">) </span><span class="reserved">return</span><span class="plain"> -1;</span>
        <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="endnote">This code is used in <a href="#SP12">&#167;12</a>.</p>

<p class="inwebparagraph"><a id="SP12_2"></a><b>&#167;12.2.  </b><code class="display">
&lt;<span class="cwebmacrodefn">If the typechecker recognises one as properly within the other, then that's the more specific</span> <span class="cwebmacronumber">12.2</span>&gt; =
</code></p>


<pre class="displaydefn">
        <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-ds2.html#SP27">Dash::compatible_with_description</a></span><span class="plain">(</span><span class="identifier">spec1</span><span class="plain">, </span><span class="identifier">spec2</span><span class="plain">) == </span><span class="identifier">ALWAYS_MATCH</span><span class="plain">) {</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-ds2.html#SP27">Dash::compatible_with_description</a></span><span class="plain">(</span><span class="identifier">spec2</span><span class="plain">, </span><span class="identifier">spec1</span><span class="plain">) != </span><span class="identifier">ALWAYS_MATCH</span><span class="plain">) </span><span class="reserved">return</span><span class="plain"> </span><span class="constant">1</span><span class="plain">;</span>
        <span class="plain">} </span><span class="reserved">else</span><span class="plain"> {</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="functiontext"><a href="14-ds2.html#SP27">Dash::compatible_with_description</a></span><span class="plain">(</span><span class="identifier">spec2</span><span class="plain">, </span><span class="identifier">spec1</span><span class="plain">) == </span><span class="identifier">ALWAYS_MATCH</span><span class="plain">) </span><span class="reserved">return</span><span class="plain"> -1;</span>
        <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="endnote">This code is used in <a href="#SP12">&#167;12</a>.</p>

<p class="inwebparagraph"><a id="SP12_3"></a><b>&#167;12.3.  </b><code class="display">
&lt;<span class="cwebmacrodefn">If either of these two descriptions have adjectives, adjective count decides it</span> <span class="cwebmacronumber">12.3</span>&gt; =
</code></p>


<pre class="displaydefn">
        <span class="reserved">int</span><span class="plain"> </span><span class="identifier">count1</span><span class="plain"> = </span><span class="functiontext"><a href="#SP8">Descriptions::number_of_adjectives_applied_to</a></span><span class="plain">(</span><span class="identifier">spec1</span><span class="plain">);</span>
        <span class="reserved">int</span><span class="plain"> </span><span class="identifier">count2</span><span class="plain"> = </span><span class="functiontext"><a href="#SP8">Descriptions::number_of_adjectives_applied_to</a></span><span class="plain">(</span><span class="identifier">spec2</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">count1</span><span class="plain"> &gt; </span><span class="identifier">count2</span><span class="plain">) </span><span class="reserved">return</span><span class="plain"> </span><span class="constant">1</span><span class="plain">;</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">count1</span><span class="plain"> &lt; </span><span class="identifier">count2</span><span class="plain">) </span><span class="reserved">return</span><span class="plain"> -1;</span>
</pre>

<p class="inwebparagraph"></p>

<p class="endnote">This code is used in <a href="#SP12">&#167;12</a>.</p>

<p class="inwebparagraph"><a id="SP12_4"></a><b>&#167;12.4.  </b><code class="display">
&lt;<span class="cwebmacrodefn">If both descriptions specify a kind, kind inheritance decides it</span> <span class="cwebmacronumber">12.4</span>&gt; =
</code></p>


<pre class="displaydefn">
        <span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">k1</span><span class="plain"> = </span><span class="functiontext"><a href="#SP4">Descriptions::explicit_kind</a></span><span class="plain">(</span><span class="identifier">spec1</span><span class="plain">);</span>
        <span class="identifier">kind</span><span class="plain"> *</span><span class="identifier">k2</span><span class="plain"> = </span><span class="functiontext"><a href="#SP4">Descriptions::explicit_kind</a></span><span class="plain">(</span><span class="identifier">spec2</span><span class="plain">);</span>
        <span class="reserved">if</span><span class="plain"> ((</span><span class="identifier">k1</span><span class="plain">) &amp;&amp; (</span><span class="identifier">k2</span><span class="plain">)) {</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">Kinds::Compare::lt</span><span class="plain">(</span><span class="identifier">k1</span><span class="plain">, </span><span class="identifier">k2</span><span class="plain">)) </span><span class="reserved">return</span><span class="plain"> </span><span class="constant">1</span><span class="plain">;</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">Kinds::Compare::lt</span><span class="plain">(</span><span class="identifier">k2</span><span class="plain">, </span><span class="identifier">k1</span><span class="plain">)) </span><span class="reserved">return</span><span class="plain"> -1;</span>
        <span class="plain">}</span>

</pre>

<p class="inwebparagraph"></p>

<p class="endnote">This code is used in <a href="#SP12">&#167;12</a>.</p>

<hr class="tocbar">
<ul class="toc"><li><a href="14-cn.html">Back to 'Conditions'</a></li><li><a href="14-cfs.html">Continue with 'Compiling from Specifications'</a></li></ul><hr class="tocbar">
<!--End of weave-->
<script>
function togglePopup(material_id) {
  var popup = document.getElementById(material_id);
  popup.classList.toggle("show");
}
</script>

<link href="Popups.css" rel="stylesheet" rev="stylesheet" type="text/css">
<script>
MathJax = {
  tex: {
    inlineMath: '$', '$'], ['\\(', '\\)'
  },
  svg: {
    fontCache: 'global'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

		</main>
	</body>
</html>

