<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>Booklet Title</title>
		<meta name="viewport" content="width=device-width initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Content-Language" content="en-gb">
		<link href="../inweb.css" rel="stylesheet" rev="stylesheet" type="text/css">
	</head>
	<body>
		<nav role="navigation">
		<h1><a href="../webs.html">Sources</a></h1>
<ul>
<li><a href="../compiler.html"><b>compiler</b></a></li>
<li><a href="../other.html">other tools</a></li>
<li><a href="../extensions.html">extensions and kits</a></li>
<li><a href="../units.html">unit test tools</a></li>
</ul>
<h2>Compiler Webs</h2>
<ul>
<li><a href="../inbuild/index.html">inbuild</a></li>
<li><a href="../inform7/index.html">inform7</a></li>
<li><a href="../inter/index.html">inter</a></li>
</ul>
<h2>Inbuild Modules</h2>
<ul>
<li><a href="../inbuild-module/index.html">inbuild</a></li>
<li><a href="../arch-module/index.html">arch</a></li>
<li><a href="../words-module/index.html">words</a></li>
<li><a href="../syntax-module/index.html">syntax</a></li>
<li><a href="../html-module/index.html">html</a></li>
</ul>
<h2>Inform7 Modules</h2>
<ul>
<li><a href="../core-module/index.html">core</a></li>
<li><a href="../problems-module/index.html">problems</a></li>
<li><a href="../inflections-module/index.html">inflections</a></li>
<li><a href="../linguistics-module/index.html">linguistics</a></li>
<li><a href="../kinds-module/index.html">kinds</a></li>
<li><a href="../if-module/index.html">if</a></li>
<li><a href="../multimedia-module/index.html">multimedia</a></li>
<li><a href="../index-module/index.html">index</a></li>
</ul>
<h2>Inter Modules</h2>
<ul>
<li><a href="../inter-module/index.html">inter</a></li>
<li><a href="../building-module/index.html">building</a></li>
<li><a href="../codegen-module/index.html">codegen</a></li>
</ul>
<h2>Foundation</h2>
<ul>
<li><a href="../../../inweb/docs/foundation-module/index.html">foundation</a></li>
</ul>


		</nav>
		<main role="main">
		
<!--Weave of '1/cm' generated by 7-->
<ul class="crumbs"><li><a href="../webs.html">Source</a></li><li><a href="../compiler.html">Compiler Modules</a></li><li><a href="index.html">core</a></li><li><a href="index.html#1">Chapter 1: Configuration and Control</a></li><li><b>Core Module</b></li></ul><p class="purpose">Setting up the use of this module.</p>

<ul class="toc"><li><a href="#SP2">&#167;2. Setting up the memory manager</a></li><li><a href="#SP5">&#167;5. The beginning</a></li><li><a href="#SP8">&#167;8. The end</a></li></ul><hr class="tocbar">

<p class="inwebparagraph"><a id="SP1"></a><b>&#167;1.  </b>There is no interesting code in this section: all Intools modules open with
a section like this one, configuring the memory management and debugging log
features we will use from <code class="display"><span class="extract">foundation</span></code>.
</p>

<p class="inwebparagraph">The following symbol is defined in every tool incorporating this module:
</p>


<pre class="definitions">
    <span class="definitionkeyword">define</span> <span class="constant">CORE_MODULE</span><span class="plain"> </span><span class="identifier">TRUE</span>
</pre>
<p class="inwebparagraph"><a id="SP2"></a><b>&#167;2. Setting up the memory manager. </b>We need to itemise the structures we'll want to allocate:
</p>


<pre class="definitions">
    <span class="definitionkeyword">enum</span> <span class="constant">bibliographic_datum_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">phrase_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">inference_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">property_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">property_permission_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">rulebook_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">booking_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">phrase_option_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">instance_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">table_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">table_column_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">literal_text_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">text_substitution_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">invocation_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">implication_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">activity_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">activity_list_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">use_option_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">i6_memory_setting_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">definition_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">binary_predicate_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">pcalc_prop_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">pcalc_func_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">pcalc_prop_deferral_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">literal_pattern_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">generalisation_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">i6_schema_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">list_together_routine_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">past_tense_condition_record_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">past_tense_action_record_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">named_rulebook_outcome_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">stacked_variable_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">stacked_variable_list_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">stacked_variable_owner_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">stacked_variable_owner_list_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">pointer_allocation_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">ph_stack_frame_box_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">i6_inclusion_matter_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">literal_list_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">adjective_meaning_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">adjective_meaning_block_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">measurement_definition_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">literal_pattern_name_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">equation_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">equation_symbol_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">equation_node_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">placement_affecting_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">activity_crossref_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">invocation_options_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">inv_token_problem_token_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">application_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">plugin_call_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">plugin_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">nonlocal_variable_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">inference_subject_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">property_of_value_storage_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">to_phrase_request_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">constant_phrase_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">use_as_event_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">instance_usage_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">rule_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">rulebook_outcome_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">applicability_condition_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">llist_entry_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">response_message_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">table_contribution_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">contents_entry_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">local_variable_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">relation_guard_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">pcalc_term_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">special_meaning_holder_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">runtime_kind_structure_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">internal_test_case_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">test_scenario_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">counting_data_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">kind_interaction_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">dval_written_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">nascent_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">value_holster_array_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">adjective_iname_holder_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">label_namespace_MT</span>
    <span class="definitionkeyword">enum</span> <span class="constant">compile_task_data_MT</span>
</pre>
<p class="inwebparagraph"><a id="SP3"></a><b>&#167;3.  </b>Deep breath, then: the following macros define several hundred functions.
</p>


<pre class="display">
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="reserved">(activity</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">adjective_meaning</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">adjective_meaning_block</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">applicability_condition</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">binary_predicate</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">booking</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">constant_phrase</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="identifier">contents_entry</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">counting_data</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">definition</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">dval_written</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">equation_node</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">equation_symbol</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">equation</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">generalisation</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">i6_inclusion_matter</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">i6_memory_setting</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">implication</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">inference</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">inference_subject</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">instance</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">internal_test_case</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">inv_token_problem_token</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">kind_interaction</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">list_together_routine</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">literal_list</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">literal_pattern_name</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">literal_pattern</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">literal_text</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">llist_entry</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">measurement_definition</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">named_rulebook_outcome</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">nascent_array</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">nonlocal_variable</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">past_tense_action_record</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">past_tense_condition_record</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">pcalc_prop_deferral</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">ph_stack_frame_box</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">phrase</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">plugin</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">pointer_allocation</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">property_of_value_storage</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">property_permission</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">property</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">relation_guard</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">response_message</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">rule</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">rulebook_outcome</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">rulebook</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">special_meaning_holder</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">table_column</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">table</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">test_scenario</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">text_substitution</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">to_phrase_request</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">use_as_event</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">use_option</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">runtime_kind_structure</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">adjective_iname_holder</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">label_namespace</span><span class="plain">)</span>
    <span class="identifier">ALLOCATE_INDIVIDUALLY</span><span class="plain">(</span><span class="reserved">compile_task_data</span><span class="plain">)</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP4"></a><b>&#167;4.  </b>So much for the managed structures: now for the unmanaged structures.
</p>


<pre class="display">
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">activity_crossref</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">activity_list</span><span class="plain">, 1000)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">application</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">i6_schema</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">instance_usage</span><span class="plain">, 200)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">invocation_options</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">local_variable</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">pcalc_func</span><span class="plain">, 1000)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">pcalc_prop</span><span class="plain">, 1000)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">pcalc_term</span><span class="plain">, 1000)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">phrase_option</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">placement_affecting</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">plugin_call</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">stacked_variable_list</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">stacked_variable_owner_list</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">stacked_variable_owner</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">stacked_variable</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="reserved">table_contribution</span><span class="plain">, 100)</span>
    <span class="identifier">ALLOCATE_IN_ARRAYS</span><span class="plain">(</span><span class="identifier">value_holster</span><span class="plain">, 100)</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP5"></a><b>&#167;5. The beginning. </b>(The client doesn't need to call the start and end routines, because the
foundation module does that automatically.)
</p>


<pre class="definitions">
    <span class="definitionkeyword">define</span> <span class="constant">WORDING_LOGS_ALLOWED</span>
    <span class="definitionkeyword">define</span> <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="identifier">c</span><span class="plain">, </span><span class="identifier">f</span><span class="plain">) </span><span class="identifier">Writers::register_logger</span><span class="plain">(</span><span class="identifier">c</span><span class="plain">, &amp;</span><span class="identifier">f</span><span class="plain">##</span><span class="identifier">_writer</span><span class="plain">);</span>
    <span class="definitionkeyword">define</span> <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="identifier">t</span><span class="plain">, </span><span class="identifier">f</span><span class="plain">)</span>
        <span class="reserved">void</span><span class="plain"> </span><span class="identifier">f</span><span class="plain">##</span><span class="identifier">_writer</span><span class="plain">(</span><span class="identifier">text_stream</span><span class="plain"> *</span><span class="identifier">format</span><span class="plain">, </span><span class="reserved">void</span><span class="plain"> *</span><span class="identifier">obj</span><span class="plain">) { </span><span class="identifier">text_stream</span><span class="plain"> *</span><span class="identifier">SDL</span><span class="plain"> = </span><span class="identifier">DL</span><span class="plain">; </span><span class="identifier">DL</span><span class="plain"> = </span><span class="identifier">format</span><span class="plain">; </span><span class="reserved">if</span><span class="plain"> (</span><span class="identifier">DL</span><span class="plain">) </span><span class="identifier">f</span><span class="plain">((</span><span class="identifier">t</span><span class="plain">) </span><span class="identifier">obj</span><span class="plain">); </span><span class="identifier">DL</span><span class="plain"> = </span><span class="identifier">SDL</span><span class="plain">; }</span>
    <span class="definitionkeyword">define</span> <span class="identifier">REGISTER_WRITER_I</span><span class="plain">(</span><span class="identifier">c</span><span class="plain">, </span><span class="identifier">f</span><span class="plain">) </span><span class="identifier">Writers::register_logger_I</span><span class="plain">(</span><span class="identifier">c</span><span class="plain">, &amp;</span><span class="identifier">f</span><span class="plain">##</span><span class="identifier">_writer</span><span class="plain">);</span>
    <span class="definitionkeyword">define</span> <span class="identifier">COMPILE_WRITER_I</span><span class="plain">(</span><span class="identifier">t</span><span class="plain">, </span><span class="identifier">f</span><span class="plain">)</span>
        <span class="reserved">void</span><span class="plain"> </span><span class="identifier">f</span><span class="plain">##</span><span class="identifier">_writer</span><span class="plain">(</span><span class="identifier">text_stream</span><span class="plain"> *</span><span class="identifier">format</span><span class="plain">, </span><span class="reserved">int</span><span class="plain"> </span><span class="identifier">I</span><span class="plain">) { </span><span class="identifier">text_stream</span><span class="plain"> *</span><span class="identifier">SDL</span><span class="plain"> = </span><span class="identifier">DL</span><span class="plain">; </span><span class="identifier">DL</span><span class="plain"> = </span><span class="identifier">format</span><span class="plain">; </span><span class="reserved">if</span><span class="plain"> (</span><span class="identifier">DL</span><span class="plain">) </span><span class="identifier">f</span><span class="plain">((</span><span class="identifier">t</span><span class="plain">) </span><span class="identifier">I</span><span class="plain">); </span><span class="identifier">DL</span><span class="plain"> = </span><span class="identifier">SDL</span><span class="plain">; }</span>
    <span class="definitionkeyword">define</span> <span class="identifier">REGISTER_WRITER_W</span><span class="plain">(</span><span class="identifier">c</span><span class="plain">, </span><span class="identifier">f</span><span class="plain">) </span><span class="identifier">Writers::register_logger_W</span><span class="plain">(</span><span class="identifier">c</span><span class="plain">, &amp;</span><span class="identifier">f</span><span class="plain">##</span><span class="identifier">_writer</span><span class="plain">);</span>
    <span class="definitionkeyword">define</span> <span class="identifier">COMPILE_WRITER_W</span><span class="plain">(</span><span class="identifier">f</span><span class="plain">)</span>
        <span class="reserved">void</span><span class="plain"> </span><span class="identifier">f</span><span class="plain">##</span><span class="identifier">_writer</span><span class="plain">(</span><span class="identifier">text_stream</span><span class="plain"> *</span><span class="identifier">format</span><span class="plain">, </span><span class="identifier">wording</span><span class="plain"> </span><span class="identifier">W</span><span class="plain">) { </span><span class="identifier">text_stream</span><span class="plain"> *</span><span class="identifier">SDL</span><span class="plain"> = </span><span class="identifier">DL</span><span class="plain">; </span><span class="identifier">DL</span><span class="plain"> = </span><span class="identifier">format</span><span class="plain">; </span><span class="reserved">if</span><span class="plain"> (</span><span class="identifier">DL</span><span class="plain">) </span><span class="identifier">f</span><span class="plain">(</span><span class="identifier">W</span><span class="plain">); </span><span class="identifier">DL</span><span class="plain"> = </span><span class="identifier">SDL</span><span class="plain">; }</span>
</pre>

<pre class="display">
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">pcalc_term</span><span class="plain"> *, </span><span class="functiontext">Calculus::Terms::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">binary_predicate</span><span class="plain"> *, </span><span class="functiontext">BinaryPredicates::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">table</span><span class="plain"> *, </span><span class="functiontext">Tables::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">booking</span><span class="plain"> *, </span><span class="functiontext">Rules::Bookings::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">table_column</span><span class="plain"> *, </span><span class="functiontext">Tables::Columns::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">pcalc_prop</span><span class="plain"> *, </span><span class="functiontext">Calculus::Propositions::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="identifier">extension_dictionary_entry</span><span class="plain"> *, </span><span class="identifier">Extensions::Dictionary::log_entry</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *, </span><span class="functiontext">Invocations::log_list</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="identifier">parse_node</span><span class="plain"> *, </span><span class="functiontext">Invocations::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="identifier">heading</span><span class="plain"> *, </span><span class="functiontext">Sentences::Headings::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">ph_type_data</span><span class="plain"> *, </span><span class="functiontext">Phrases::TypeData::Textual::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">inference</span><span class="plain"> *, </span><span class="functiontext">World::Inferences::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">i6_schema</span><span class="plain"> *, </span><span class="functiontext">Calculus::Schemas::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">inference_subject</span><span class="plain"> *, </span><span class="functiontext">InferenceSubjects::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">rulebook</span><span class="plain"> *, </span><span class="functiontext">Rulebooks::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">local_variable</span><span class="plain"> *, </span><span class="functiontext">LocalVariables::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER_I</span><span class="plain">(</span><span class="reserved">int</span><span class="plain">, </span><span class="functiontext">World::Inferences::log_kind</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">instance</span><span class="plain"> *, </span><span class="functiontext">Instances::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">pcalc_prop</span><span class="plain"> *, </span><span class="functiontext">Calculus::Atoms::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="identifier">unit_sequence</span><span class="plain"> *, </span><span class="identifier">Kinds::Dimensions::log_unit_sequence</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">equation</span><span class="plain"> *, </span><span class="functiontext">Equations::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">phrase</span><span class="plain"> *, </span><span class="functiontext">Phrases::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="identifier">adjective_usage</span><span class="plain"> *, </span><span class="identifier">AdjectiveUsages::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">ph_usage_data</span><span class="plain"> *, </span><span class="functiontext">Phrases::Usage::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="identifier">kind</span><span class="plain"> *, </span><span class="identifier">Kinds::Textual::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER_I</span><span class="plain">(</span><span class="reserved">int</span><span class="plain">, </span><span class="functiontext">Sentences::VPs::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">property</span><span class="plain"> *, </span><span class="functiontext">Properties::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="reserved">nonlocal_variable</span><span class="plain"> *, </span><span class="functiontext">NonlocalVariables::log</span><span class="plain">)</span>
    <span class="identifier">COMPILE_WRITER</span><span class="plain">(</span><span class="identifier">noun</span><span class="plain"> *, </span><span class="identifier">Nouns::log</span><span class="plain">)</span>
</pre>

<p class="inwebparagraph"></p>

<p class="inwebparagraph"><a id="SP6"></a><b>&#167;6.  </b></p>


<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">CoreModule::start</span><span class="plain">(</span><span class="reserved">void</span><span class="plain">) {</span>
        &lt;<span class="cwebmacro">Register this module's memory allocation reasons</span> <span class="cwebmacronumber">6.2</span>&gt;<span class="character">;</span>
        &lt;<span class="cwebmacro">Register this module's stream writers</span> <span class="cwebmacronumber">6.3</span>&gt;<span class="character">;</span>
        &lt;<span class="cwebmacro">Register this module's debugging log aspects</span> <span class="cwebmacronumber">6.5</span>&gt;<span class="character">;</span>
        &lt;<span class="cwebmacro">Register this module's debugging log writers</span> <span class="cwebmacronumber">6.6</span>&gt;<span class="character">;</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="endnote">The function CoreModule::start appears nowhere else.</p>

<p class="inwebparagraph"><a id="SP6_1"></a><b>&#167;6.1.  </b>Not all of our memory will be claimed in the form of structures: now and then
we need to use the equivalent of traditional <code class="display"><span class="extract">malloc</span></code> and <code class="display"><span class="extract">calloc</span></code> routines.
</p>


<pre class="definitions">
    <span class="definitionkeyword">enum</span> <span class="constant">INDEX_SORTING_MREASON</span>
    <span class="definitionkeyword">enum</span> <span class="constant">INSTANCE_COUNTING_MREASON</span>
    <span class="definitionkeyword">enum</span> <span class="constant">MAP_INDEX_MREASON</span>
    <span class="definitionkeyword">enum</span> <span class="constant">PARTITION_MREASON</span>
    <span class="definitionkeyword">enum</span> <span class="constant">TYPE_TABLES_MREASON</span>
    <span class="definitionkeyword">enum</span> <span class="constant">INV_LIST_MREASON</span>
    <span class="definitionkeyword">enum</span> <span class="constant">COMPILATION_SIZE_MREASON</span>
    <span class="definitionkeyword">enum</span> <span class="constant">OBJECT_COMPILATION_MREASON</span>
    <span class="definitionkeyword">enum</span> <span class="constant">DOC_FRAGMENT_MREASON</span>
    <span class="definitionkeyword">enum</span> <span class="constant">RELATION_CONSTRUCTION_MREASON</span>
    <span class="definitionkeyword">enum</span> <span class="constant">EMIT_ARRAY_MREASON</span>
</pre>
<p class="inwebparagraph"><a id="SP6_2"></a><b>&#167;6.2.  </b><code class="display">
&lt;<span class="cwebmacrodefn">Register this module's memory allocation reasons</span> <span class="cwebmacronumber">6.2</span>&gt; =
</code></p>


<pre class="displaydefn">
        <span class="identifier">Memory::reason_name</span><span class="plain">(</span><span class="constant">INDEX_SORTING_MREASON</span><span class="plain">, </span><span class="string">"index sorting"</span><span class="plain">);</span>
        <span class="identifier">Memory::reason_name</span><span class="plain">(</span><span class="constant">INSTANCE_COUNTING_MREASON</span><span class="plain">, </span><span class="string">"instance-of-kind counting"</span><span class="plain">);</span>
        <span class="identifier">Memory::reason_name</span><span class="plain">(</span><span class="constant">MAP_INDEX_MREASON</span><span class="plain">, </span><span class="string">"map in the World index"</span><span class="plain">);</span>
        <span class="identifier">Memory::reason_name</span><span class="plain">(</span><span class="constant">PARTITION_MREASON</span><span class="plain">, </span><span class="string">"initial state for relations in groups"</span><span class="plain">);</span>
        <span class="identifier">Memory::reason_name</span><span class="plain">(</span><span class="constant">TYPE_TABLES_MREASON</span><span class="plain">, </span><span class="string">"tables of details of the kinds of values"</span><span class="plain">);</span>
        <span class="identifier">Memory::reason_name</span><span class="plain">(</span><span class="constant">INV_LIST_MREASON</span><span class="plain">, </span><span class="string">"lists for type-checking invocations"</span><span class="plain">);</span>
        <span class="identifier">Memory::reason_name</span><span class="plain">(</span><span class="constant">COMPILATION_SIZE_MREASON</span><span class="plain">, </span><span class="string">"size estimates for compiled objects"</span><span class="plain">);</span>
        <span class="identifier">Memory::reason_name</span><span class="plain">(</span><span class="constant">OBJECT_COMPILATION_MREASON</span><span class="plain">, </span><span class="string">"compilation workspace for objects"</span><span class="plain">);</span>
        <span class="identifier">Memory::reason_name</span><span class="plain">(</span><span class="constant">DOC_FRAGMENT_MREASON</span><span class="plain">, </span><span class="string">"documentation fragments"</span><span class="plain">);</span>
        <span class="identifier">Memory::reason_name</span><span class="plain">(</span><span class="constant">RELATION_CONSTRUCTION_MREASON</span><span class="plain">, </span><span class="string">"relation bitmap storage"</span><span class="plain">);</span>
        <span class="identifier">Memory::reason_name</span><span class="plain">(</span><span class="constant">EMIT_ARRAY_MREASON</span><span class="plain">, </span><span class="string">"emitter array storage"</span><span class="plain">);</span>
</pre>

<p class="inwebparagraph"></p>

<p class="endnote">This code is used in <a href="#SP6">&#167;6</a>.</p>

<p class="inwebparagraph"><a id="SP6_3"></a><b>&#167;6.3.  </b><code class="display">
&lt;<span class="cwebmacrodefn">Register this module's stream writers</span> <span class="cwebmacronumber">6.3</span>&gt; =
</code></p>


<pre class="displaydefn">
        <span class="identifier">Writers::register_writer_I</span><span class="plain">(</span><span class="character">'B'</span><span class="plain">, &amp;</span><span class="functiontext">CoreModule::writer</span><span class="plain">);</span>
        <span class="identifier">Writers::register_writer</span><span class="plain">(</span><span class="character">'I'</span><span class="plain">, &amp;</span><span class="functiontext">Instances::writer</span><span class="plain">);</span>
        <span class="identifier">Writers::register_writer</span><span class="plain">(</span><span class="character">'L'</span><span class="plain">, &amp;</span><span class="functiontext">LocalVariables::writer</span><span class="plain">);</span>
</pre>

<p class="inwebparagraph"></p>

<p class="endnote">This code is used in <a href="#SP6">&#167;6</a>.</p>

<p class="inwebparagraph"><a id="SP6_4"></a><b>&#167;6.4.  </b></p>


<pre class="definitions">
    <span class="definitionkeyword">enum</span> <span class="constant">ACTION_CREATIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">ACTION_PATTERN_COMPILATION_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">ACTION_PATTERN_PARSING_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">ASSEMBLIES_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">ASSERTIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">CASE_INSENSITIVE_FILEHANDLING_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">CONDITIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">DEBUGGING_LOG_CONTENTS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">DESCRIPTION_COMPILATION_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">EXPRESSIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">FIGURE_CREATIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">IMPLICATIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">INFERENCES_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">LOCAL_VARIABLES_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">MEANING_LIST_ALLOCATION_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">MEMORY_ALLOCATION_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">NOUN_RESOLUTION_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">OBJECT_COMPILATION_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">OBJECT_CREATIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">OBJECT_TREE_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">PHRASE_COMPARISONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">PHRASE_COMPILATION_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">PHRASE_CREATIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">PHRASE_REGISTRATION_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">PHRASE_USAGE_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">PREDICATE_CALCULUS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">PREDICATE_CALCULUS_WORKINGS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">PRONOUNS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">PROPERTY_CREATIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">PROPERTY_PROVISION_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">PROPERTY_TRANSLATIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">RELATION_DEFINITIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">RULE_ATTACHMENTS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">RULEBOOK_COMPILATION_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">SPATIAL_MAP_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">SPATIAL_MAP_WORKINGS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">SPECIFICATION_PERMISSIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">SPECIFICATION_USAGE_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">SPECIFICITIES_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">TABLES_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">TEXT_SUBSTITUTIONS_DA</span>
    <span class="definitionkeyword">enum</span> <span class="constant">VARIABLE_CREATIONS_DA</span>
</pre>
<p class="inwebparagraph"><a id="SP6_5"></a><b>&#167;6.5.  </b><code class="display">
&lt;<span class="cwebmacrodefn">Register this module's debugging log aspects</span> <span class="cwebmacronumber">6.5</span>&gt; =
</code></p>


<pre class="displaydefn">
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">ACTION_CREATIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"action creations"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">ACTION_PATTERN_COMPILATION_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"action pattern compilation"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">ACTION_PATTERN_PARSING_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"action pattern parsing"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">ASSEMBLIES_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"assemblies"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">ASSERTIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"assertions"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">TRUE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">CASE_INSENSITIVE_FILEHANDLING_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"case insensitive filehandling"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">CONDITIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"conditions"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">DEBUGGING_LOG_CONTENTS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"debugging log contents"</span><span class="plain">, </span><span class="identifier">TRUE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">DESCRIPTION_COMPILATION_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"description compilation"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">EXPRESSIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"expressions"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">FIGURE_CREATIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"figure creations"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">IMPLICATIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"implications"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">TRUE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">INFERENCES_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"inferences"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">TRUE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">LOCAL_VARIABLES_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"local variables"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">MEANING_LIST_ALLOCATION_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"meaning list allocation"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">MEMORY_ALLOCATION_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"memory allocation"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">NOUN_RESOLUTION_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"noun resolution"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">OBJECT_COMPILATION_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"object compilation"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">OBJECT_CREATIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"object creations"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">OBJECT_TREE_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"object tree"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">PHRASE_COMPARISONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"phrase comparisons"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">PHRASE_COMPILATION_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"phrase compilation"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">PHRASE_CREATIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"phrase creations"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">PHRASE_REGISTRATION_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"phrase registration"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">PHRASE_USAGE_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"phrase usage"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">PREDICATE_CALCULUS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"predicate calculus"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">PREDICATE_CALCULUS_WORKINGS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"predicate calculus workings"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">PRONOUNS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"pronouns"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">PROPERTY_CREATIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"property creations"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">PROPERTY_PROVISION_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"property provision"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">PROPERTY_TRANSLATIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"property translations"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">RELATION_DEFINITIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"relation definitions"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">RULE_ATTACHMENTS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"rule attachments"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">RULEBOOK_COMPILATION_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"rulebook compilation"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">SPATIAL_MAP_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"spatial map"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">SPATIAL_MAP_WORKINGS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"spatial map workings"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">SPECIFICATION_PERMISSIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"specification permissions"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">SPECIFICATION_USAGE_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"specification usage"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">SPECIFICITIES_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"specificities"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">TABLES_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"table construction"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">TEXT_SUBSTITUTIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"text substitutions"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
        <span class="identifier">Log::declare_aspect</span><span class="plain">(</span><span class="constant">VARIABLE_CREATIONS_DA</span><span class="plain">, </span><span class="identifier">L</span><span class="string">"variable creations"</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">, </span><span class="identifier">FALSE</span><span class="plain">);</span>
</pre>

<p class="inwebparagraph"></p>

<p class="endnote">This code is used in <a href="#SP6">&#167;6</a>.</p>

<p class="inwebparagraph"><a id="SP6_6"></a><b>&#167;6.6.  </b><code class="display">
&lt;<span class="cwebmacrodefn">Register this module's debugging log writers</span> <span class="cwebmacronumber">6.6</span>&gt; =
</code></p>


<pre class="displaydefn">
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'0'</span><span class="plain">, </span><span class="functiontext">Calculus::Terms::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'2'</span><span class="plain">, </span><span class="functiontext">BinaryPredicates::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'B'</span><span class="plain">, </span><span class="functiontext">Tables::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'b'</span><span class="plain">, </span><span class="functiontext">Rules::Bookings::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'C'</span><span class="plain">, </span><span class="functiontext">Tables::Columns::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'D'</span><span class="plain">, </span><span class="functiontext">Calculus::Propositions::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'d'</span><span class="plain">, </span><span class="identifier">Extensions::Dictionary::log_entry</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'E'</span><span class="plain">, </span><span class="functiontext">Invocations::log_list</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'e'</span><span class="plain">, </span><span class="functiontext">Invocations::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'H'</span><span class="plain">, </span><span class="functiontext">Sentences::Headings::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'h'</span><span class="plain">, </span><span class="functiontext">Phrases::TypeData::Textual::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'I'</span><span class="plain">, </span><span class="functiontext">World::Inferences::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'i'</span><span class="plain">, </span><span class="functiontext">Calculus::Schemas::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'j'</span><span class="plain">, </span><span class="functiontext">InferenceSubjects::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'K'</span><span class="plain">, </span><span class="functiontext">Rulebooks::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'k'</span><span class="plain">, </span><span class="functiontext">LocalVariables::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER_I</span><span class="plain">(</span><span class="character">'n'</span><span class="plain">, </span><span class="functiontext">World::Inferences::log_kind</span><span class="plain">)</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'O'</span><span class="plain">, </span><span class="functiontext">Instances::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'o'</span><span class="plain">, </span><span class="functiontext">Calculus::Atoms::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'Q'</span><span class="plain">, </span><span class="identifier">Kinds::Dimensions::log_unit_sequence</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'q'</span><span class="plain">, </span><span class="functiontext">Equations::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'R'</span><span class="plain">, </span><span class="functiontext">Phrases::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'r'</span><span class="plain">, </span><span class="identifier">AdjectiveUsages::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'U'</span><span class="plain">, </span><span class="functiontext">Phrases::Usage::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'u'</span><span class="plain">, </span><span class="identifier">Kinds::Textual::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER_I</span><span class="plain">(</span><span class="character">'V'</span><span class="plain">, </span><span class="functiontext">Sentences::VPs::log</span><span class="plain">)</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'Y'</span><span class="plain">, </span><span class="functiontext">Properties::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'Z'</span><span class="plain">, </span><span class="functiontext">NonlocalVariables::log</span><span class="plain">);</span>
        <span class="identifier">REGISTER_WRITER</span><span class="plain">(</span><span class="character">'z'</span><span class="plain">, </span><span class="identifier">Nouns::log</span><span class="plain">);</span>
</pre>

<p class="inwebparagraph"></p>

<p class="endnote">This code is used in <a href="#SP6">&#167;6</a>.</p>

<p class="inwebparagraph"><a id="SP7"></a><b>&#167;7.  </b></p>


<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">CoreModule::writer</span><span class="plain">(</span><span class="identifier">OUTPUT_STREAM</span><span class="plain">, </span><span class="reserved">char</span><span class="plain"> *</span><span class="identifier">format_string</span><span class="plain">, </span><span class="reserved">int</span><span class="plain"> </span><span class="identifier">wn</span><span class="plain">) {</span>
        <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">Time::fixed</span><span class="plain">()) {</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">wn</span><span class="plain">) </span><span class="identifier">WRITE</span><span class="plain">(</span><span class="string">"9Z99"</span><span class="plain">);</span>
            <span class="reserved">else</span><span class="plain"> </span><span class="identifier">WRITE</span><span class="plain">(</span><span class="string">"Inform 7.99.99"</span><span class="plain">);</span>
        <span class="plain">} </span><span class="reserved">else</span><span class="plain"> {</span>
            <span class="reserved">if</span><span class="plain"> (</span><span class="identifier">wn</span><span class="plain">) </span><span class="identifier">WRITE</span><span class="plain">(</span><span class="string">"[[Build Number]]"</span><span class="plain">);</span>
            <span class="reserved">else</span><span class="plain"> </span><span class="identifier">WRITE</span><span class="plain">(</span><span class="string">"Inform [[Version Number]]"</span><span class="plain">);</span>
        <span class="plain">}</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="endnote">The function CoreModule::writer is used in <a href="#SP6_3">&#167;6.3</a>.</p>

<p class="inwebparagraph"><a id="SP8"></a><b>&#167;8. The end. </b></p>


<pre class="display">
    <span class="reserved">void</span><span class="plain"> </span><span class="functiontext">CoreModule::end</span><span class="plain">(</span><span class="reserved">void</span><span class="plain">) {</span>
    <span class="plain">}</span>
</pre>

<p class="inwebparagraph"></p>

<p class="endnote">The function CoreModule::end appears nowhere else.</p>

<hr class="tocbar">
<ul class="toc"><li><i>(This section begins Chapter 1: Configuration and Control.)</i></li><li><a href="1-mr.html">Continue with 'Main Routine'</a></li></ul><hr class="tocbar">
<!--End of weave-->
		</main>
	</body>
</html>

