read <- *in
parse-insertions
resolve-conditional-compilation
generate text -> *out
