-cases [Units] 'inbuild/Tests/Units'
-cases [Miscellany] 'inbuild/Tests/Miscellany'

-recipe [Units]
	set: $A = $PATH/_Results_Actual/$CASE.txt
	set: $I = $PATH/_Results_Ideal/$CASE.txt

	mkdir: $PATH/_Results_Actual
	mkdir: $PATH/_Results_Ideal

	debugger: llvm -f inbuild/Tangled/inbuild -- -nest inbuild/Tests/Zoo -unit-test $CASE
	step: inbuild/Tangled/inbuild -nest inbuild/Tests/Zoo -unit-test $CASE >$A 2>&1
	or: 'failed to produce output' $A

	show: $A

	match text: $A $I
	or: 'produced incorrect output'
-end

-recipe [Miscellany]
	set: $A = $PATH/_Results_Actual/$CASE.txt
	set: $I = $PATH/_Results_Ideal/$CASE.txt

	mkdir: $PATH/_Results_Actual
	mkdir: $PATH/_Results_Ideal

	debugger: lldb -f inbuild/Tangled/inbuild -- -nest inbuild/Tests/Zoo $[$PATH/$CASE.txt$]
	step: inbuild/Tangled/inbuild  -nest inbuild/Tests/Zoo $[$PATH/$CASE.txt$] >$A 2>&1
	or: 'failed to produce output' $A

	show: $A

	match text: $A $I
	or: 'produced incorrect output'
-end
